"use strict";var recover_button,confirm_button,apply_form,recover_form,return_form,allLink,currentLocation,selectInputField,allOptionsArray,selectModalWindow,sidebarSearchForm,sidebarSearchInput,searchFieldResult,searchResult,calendarInputs;function displaySelectValue(){var r=document.getElementById("rateSelect");document.querySelectorAll(".rate-form__option").forEach(function(e){var t;"checked"==e.getAttribute("data-checked")&&(t=e.textContent,r.value=t)})}function uncheckEverySpan(){document.querySelectorAll(".rate-form__option").forEach(function(e){e.setAttribute("data-checked","unchecked")})}document.querySelector(".auth-form__recover")&&(recover_button=document.querySelector(".auth-form__recover")).addEventListener("click",function(){apply_form.classList.toggle("js--hidden"),recover_form.classList.toggle("js--hidden")}),document.querySelector(".auth-form__continue")&&(confirm_button=document.querySelector(".auth-form__continue")).addEventListener("click",function(){recover_form.classList.toggle("js--hidden"),return_form.classList.toggle("js--hidden")}),document.querySelector(".form-apply-recover")&&(apply_form=document.querySelector(".form-apply-recover")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-recover-check")&&(recover_form=document.querySelector(".form-recover-check")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-return-login")&&(return_form=document.querySelector(".form-return-login")),document.querySelectorAll(".navigation-menu__item-link")&&(allLink=document.querySelectorAll(".navigation-menu__item-link"),currentLocation=window.location.href,allLink.forEach(function(e){var t=e.getAttribute("href").replace("./","");currentLocation.includes(t)&&e.classList.add("item--checked")})),document.getElementById("rateSelect")&&(selectInputField=document.getElementById("rateSelect"),allOptionsArray=document.querySelectorAll(".rate-form__option"),selectModalWindow=document.getElementById("rateModal"),displaySelectValue(),allOptionsArray.forEach(function(e){e.addEventListener("click",function(){uncheckEverySpan(),e.setAttribute("data-checked","checked"),displaySelectValue(),selectModalWindow.classList.remove("js--hidden"),selectInputField.classList.toggle("js--rotate-arrow")})}),selectInputField.addEventListener("click",function(){selectInputField.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.toggle("js--hidden")}),selectModalWindow.addEventListener("mouseleave",function(){selectInputField.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.add("js--hidden")})),document.querySelector(".search-section--form ")&&(sidebarSearchForm=document.querySelector(".search-section--form"),sidebarSearchInput=document.querySelector(".input-section__search-input"),sidebarSearchForm.addEventListener("submit",function(e){var t=sidebarSearchInput.value;localStorage.setItem("searchResult",t)})),document.getElementById("searchField")&&(searchFieldResult=document.getElementById("searchField"),searchResult=localStorage.getItem("searchResult"),console.log(localStorage.getItem("searchResult")),searchFieldResult.value=searchResult,"Платеж"==searchFieldResult.value&&(document.getElementById("fullResult").classList.remove("js--hidden"),document.getElementById("emptyResult").classList.add("js--hidden"))),document.querySelector(".blocking-form__input")&&(calendarInputs=document.querySelectorAll(".blocking-form__input")).forEach(function(e){e.addEventListener("click",function(){var t=document.createElement("div");t.classList.add("calendar-layer"),document.querySelector("body").append(t),t.addEventListener("click",function(){t.classList.add("js--hidden")}),document.querySelector(".ui-datepicker").querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),$(function(){$.datepicker.regional.ru={closeText:"Закрыть",prevText:"",nextText:"",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru);$("#blockingInputStart").datepicker($.datepicker.regional.ru,{inline:!0,changeYear:!0,gotoCurrent:!0,minDate:new Date,showAnim:"slideDown",numberOfMonths:1}).on("change",function(){$("#blockingInputFinish").datepicker("option","minDate",function(e){var t;try{t=$.datepicker.parseDate("dd.mm.yy",e.value)}catch(e){t=null,console.log(t)}return t}(this))}),$("#blockingInputFinish").datepicker($.datepicker.regional.ru,{inline:!0,changeYear:!0,gotoCurrent:!0,defaultDate:"+1w",showAnim:"slideDown",numberOfMonths:1})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJyZWNvdmVyX2J1dHRvbiIsImNvbmZpcm1fYnV0dG9uIiwiYXBwbHlfZm9ybSIsInJlY292ZXJfZm9ybSIsInJldHVybl9mb3JtIiwiYWxsTGluayIsImN1cnJlbnRMb2NhdGlvbiIsInNlbGVjdElucHV0RmllbGQiLCJhbGxPcHRpb25zQXJyYXkiLCJzZWxlY3RNb2RhbFdpbmRvdyIsInNpZGViYXJTZWFyY2hGb3JtIiwic2lkZWJhclNlYXJjaElucHV0Iiwic2VhcmNoRmllbGRSZXN1bHQiLCJzZWFyY2hSZXN1bHQiLCJjYWxlbmRhcklucHV0cyIsImRpc3BsYXlTZWxlY3RWYWx1ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJjaGVja2VkVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsInZhbHVlIiwidW5jaGVja0V2ZXJ5U3BhbiIsIm5ld0VsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJmb3JtYXRlZExpbmsiLCJyZXBsYWNlIiwiaW5jbHVkZXMiLCJhZGQiLCJyZW1vdmUiLCJzZWFyY2hWYWx1ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsImxheWVyIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsImVsZW0iLCIkIiwiZGF0ZXBpY2tlciIsInJlZ2lvbmFsIiwiY2xvc2VUZXh0IiwicHJldlRleHQiLCJuZXh0VGV4dCIsImN1cnJlbnRUZXh0IiwibW9udGhOYW1lcyIsIm1vbnRoTmFtZXNTaG9ydCIsImRheU5hbWVzIiwiZGF5TmFtZXNTaG9ydCIsImRheU5hbWVzTWluIiwid2Vla0hlYWRlciIsImRhdGVGb3JtYXQiLCJmaXJzdERheSIsImlzUlRMIiwic2hvd01vbnRoQWZ0ZXJZZWFyIiwieWVhclN1ZmZpeCIsInNldERlZmF1bHRzIiwiaW5saW5lIiwiY2hhbmdlWWVhciIsImdvdG9DdXJyZW50IiwibWluRGF0ZSIsIkRhdGUiLCJzaG93QW5pbSIsIm51bWJlck9mTW9udGhzIiwib24iLCJkYXRlIiwicGFyc2VEYXRlIiwiZXJyb3IiLCJnZXREYXRlIiwidGhpcyIsImRlZmF1bHREYXRlIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUNBQSxlQU9BQyxlQU9BQyxXQU9BQyxhQU1BQyxZQUlBQyxRQUNBQyxnQkFlQUMsaUJBQ0FDLGdCQUNBQyxrQkE0Q0FDLGtCQUNBQyxtQkFZQUMsa0JBQ0FDLGFBV0FDLGVBOUNBLFNBQUFDLHFCQUNBLElBQUFSLEVBQUFTLFNBQUFDLGVBQUEsY0FDQUQsU0FBQUUsaUJBQUEsc0JBQ0FDLFFBQUEsU0FBQUMsR0FDQSxJQUVBQyxFQURBLFdBREFELEVBQUFFLGFBQUEsa0JBRUFELEVBQUFELEVBQUFHLFlBQ0FoQixFQUFBaUIsTUFBQUgsS0FLQSxTQUFBSSxtQkFDQVQsU0FBQUUsaUJBQUEsc0JBQ0FDLFFBQUEsU0FBQU8sR0FDQUEsRUFBQUMsYUFBQSxlQUFBLGVBeEZBWCxTQUFBWSxjQUFBLHlCQUNBNUIsZUFBQWdCLFNBQUFZLGNBQUEsd0JBQ0FDLGlCQUFBLFFBQUEsV0FDQTNCLFdBQUE0QixVQUFBQyxPQUFBLGNBQ0E1QixhQUFBMkIsVUFBQUMsT0FBQSxnQkFHQWYsU0FBQVksY0FBQSwwQkFDQTNCLGVBQUFlLFNBQUFZLGNBQUEseUJBQ0FDLGlCQUFBLFFBQUEsV0FDQTFCLGFBQUEyQixVQUFBQyxPQUFBLGNBQ0EzQixZQUFBMEIsVUFBQUMsT0FBQSxnQkFHQWYsU0FBQVksY0FBQSx5QkFDQTFCLFdBQUFjLFNBQUFZLGNBQUEsd0JBRUFDLGlCQUFBLFNBQUEsU0FBQUcsR0FDQUEsRUFBQUMsbUJBR0FqQixTQUFBWSxjQUFBLHlCQUNBekIs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QUMsV0FBQWlCLFlBQUFsQixFQUFBQyxXQUFBQyxTQUFBLElBRUFGLEVBQUEsdUJBQ0FDLFdBQUFELEVBQUFDLFdBQUFDLFNBQUEsR0FBQSxDQUNBaUIsUUFBQSxFQUNBQyxZQUFBLEVBQ0FDLGFBQUEsRUFDQUMsUUFBQSxJQUFBQyxLQUNBQyxTQUFBLFlBQ0FDLGVBQUEsSUFFQUMsR0FBQSxTQUFBLFdBQ0ExQixFQUFBLHdCQUFBQyxXQUNBLFNBQ0EsVUFhQSxTQUFBakMsR0FDQSxJQUFBMkQsRUFDQSxJQUNBQSxFQUFBM0IsRUFBQUMsV0FBQTJCLFVBN0JBLFdBNkJBNUQsRUFBQUksT0FDQSxNQUFBeUQsR0FDQUYsRUFBQSxLQUNBakMsUUFBQUMsSUFBQWdDLEdBR0EsT0FBQUEsRUFyQkFHLENBQUFDLFNBR0EvQixFQUFBLHdCQUFBQyxXQUFBRCxFQUFBQyxXQUFBQyxTQUFBLEdBQUEsQ0FDQWlCLFFBQUEsRUFDQUMsWUFBQSxFQUNBQyxhQUFBLEVBQ0FXLFlBQUEsTUFDQVIsU0FBQSxZQUNBQyxlQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX3JlY292ZXJcIikpIHtcbiAgICB2YXIgcmVjb3Zlcl9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fcmVjb3ZlclwiKTtcbiAgICByZWNvdmVyX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBhcHBseV9mb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICByZWNvdmVyX2Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2NvbnRpbnVlXCIpKSB7XG4gICAgdmFyIGNvbmZpcm1fYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2NvbnRpbnVlXCIpO1xuICAgIGNvbmZpcm1fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHJlY292ZXJfZm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgcmV0dXJuX2Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWFwcGx5LXJlY292ZXJcIikpIHtcbiAgICB2YXIgYXBwbHlfZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1hcHBseS1yZWNvdmVyXCIpO1xuXG4gICAgYXBwbHlfZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZWNvdmVyLWNoZWNrXCIpKSB7XG4gICAgdmFyIHJlY292ZXJfZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZWNvdmVyLWNoZWNrXCIpO1xuICAgIHJlY292ZXJfZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZXR1cm4tbG9naW5cIikpIHtcbiAgICB2YXIgcmV0dXJuX2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tcmV0dXJuLWxvZ2luXCIpO1xufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLW1lbnVfX2l0ZW0tbGlua1wiKSkge1xuICAgIHZhciBhbGxMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLW1lbnVfX2l0ZW0tbGlua1wiKTtcbiAgICB2YXIgY3VycmVudExvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cbiAgICBhbGxMaW5rLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgdmFyIGxpbmsgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgIHZhciBmb3JtYXRlZExpbmsgPSBsaW5rLnJlcGxhY2UoXCIuL1wiLCBcIlwiKTtcbiAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbi5pbmNsdWRlcyhmb3JtYXRlZExpbmspKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpdGVtLS1jaGVja2VkXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vINCe0L/QtdGA0LDRhtC40Lgg0YEg0YLQsNGA0LjRhNCw0LzQuFxuXG4vLyDQodC90LDRh9Cw0LvQsCDQv9C+0LvRg9GH0LjQvCDQuCDQstGL0LLQtdC00LXQvCDQt9C90LDRh9C10L3QuNC1INC+0YLQvNC10YfQtdC90L3QvtCz0L4gb3B0aW9uXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYXRlU2VsZWN0XCIpKSB7XG4gICAgdmFyIHNlbGVjdElucHV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVTZWxlY3RcIik7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZS1mb3JtX19vcHRpb25cIik7XG4gICAgdmFyIHNlbGVjdE1vZGFsV2luZG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYXRlTW9kYWxcIik7XG4gICAgZGlzcGxheVNlbGVjdFZhbHVlKCk7XG4gICAgLy8g0J/QviDQutC70LjQutGDINC80LXQvdGP0LXQvCDQt9C90LDRh9C10L3QuNC1IGRhdGEtY2hlY2tlZFxuICAgIGFsbE9wdGlvbnNBcnJheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHVuY2hlY2tFdmVyeVNwYW4oKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgIGRpc3BsYXlTZWxlY3RWYWx1ZSgpO1xuICAgICAgICAgICAgc2VsZWN0TW9kYWxXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICBzZWxlY3RJbnB1dEZpZWxkLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0tcm90YXRlLWFycm93XCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBzZWxlY3RJbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHNlbGVjdElucHV0RmllbGQuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1yb3RhdGUtYXJyb3dcIik7XG4gICAgICAgIHNlbGVjdE1vZGFsV2luZG93LmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICAgIH0pO1xuXG4gICAgc2VsZWN0TW9kYWxXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICBzZWxlY3RJbnB1dEZpZWxkLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0tcm90YXRlLWFycm93XCIpO1xuICAgICAgICBzZWxlY3RNb2RhbFdpbmRvdy5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbn1cbi8vINCf0LXRgNC10LTQsNGH0LAgZGF0YS1jaGVja2VkINC30L3QsNGH0LXQvdC40Y8g0LIg0L/QvtC70LUgU2VsZWN0XG5mdW5jdGlvbiBkaXNwbGF5U2VsZWN0VmFsdWUoKSB7XG4gICAgdmFyIHNlbGVjdElucHV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVTZWxlY3RcIik7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZS1mb3JtX19vcHRpb25cIik7XG4gICAgYWxsT3B0aW9uc0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgdmFyIGNoZWNrZWRCb29sID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIik7XG4gICAgICAgIGlmIChjaGVja2VkQm9vbCA9PSBcImNoZWNrZWRcIikge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBzZWxlY3RJbnB1dEZpZWxkLnZhbHVlID0gY2hlY2tlZFZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHVuY2hlY2tFdmVyeVNwYW4oKSB7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZS1mb3JtX19vcHRpb25cIik7XG4gICAgYWxsT3B0aW9uc0FycmF5LmZvckVhY2goKG5ld0VsZW1lbnQpID0+IHtcbiAgICAgICAgbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJ1bmNoZWNrZWRcIik7XG4gICAgfSk7XG59XG5cbi8vINCe0LHRgNCw0LHQvtGC0LrQsCDRhNC+0YDQvNGLINC/0L7QuNGB0LrQsCDQsiDQsdC+0LrQvtCy0L7QvCDQvNC10L3RjlxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLXNlY3Rpb24tLWZvcm0gXCIpKSB7XG4gICAgdmFyIHNpZGViYXJTZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtc2VjdGlvbi0tZm9ybVwiKTtcbiAgICB2YXIgc2lkZWJhclNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgXCIuaW5wdXQtc2VjdGlvbl9fc2VhcmNoLWlucHV0XCJcbiAgICApO1xuICAgIHNpZGViYXJTZWFyY2hGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBzZWFyY2hWYWx1ZSA9IHNpZGViYXJTZWFyY2hJbnB1dC52YWx1ZTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzZWFyY2hSZXN1bHRcIiwgc2VhcmNoVmFsdWUpO1xuICAgIH0pO1xufVxuXG4vLyDQoNC10LfRg9C70YzRgtCw0YLRiyDQv9C+0LjRgdC60LBcblxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoRmllbGRcIikpIHtcbiAgICB2YXIgc2VhcmNoRmllbGRSZXN1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaEZpZWxkXCIpO1xuICAgIHZhciBzZWFyY2hSZXN1bHQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNlYXJjaFJlc3VsdFwiKTtcbiAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNlYXJjaFJlc3VsdFwiKSk7XG4gICAgc2VhcmNoRmllbGRSZXN1bHQudmFsdWUgPSBzZWFyY2hSZXN1bHQ7XG4gICAgaWYgKHNlYXJjaEZpZWxkUmVzdWx0LnZhbHVlID09IFwi0J/Qu9Cw0YLQtdC2XCIpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmdWxsUmVzdWx0XCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtcHR5UmVzdWx0XCIpLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgIH1cbn1cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2tpbmctZm9ybV9faW5wdXRcIikpIHtcbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQv9C+0LTQu9C+0LbQutC4XG4gICAgdmFyIGNhbGVuZGFySW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ibG9ja2luZy1mb3JtX19pbnB1dFwiKTtcbiAgICBjYWxlbmRhcklucHV0cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwiY2FsZW5kYXItbGF5ZXJcIik7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5hcHBlbmQobGF5ZXIpO1xuICAgICAgICAgICAgbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51aS1kYXRlcGlja2VyXCIpO1xuXG4gICAgICAgICAgICB2YXIgYWxsTGlua3MgPSBjYWxlbmRhci5xdWVyeVNlbGVjdG9yQWxsKFwiYVwiKTtcbiAgICAgICAgICAgIGFsbExpbmtzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vINCj0LHQuNGA0LDQvdC40LUg0L/QvtC00LvQvtC20LrQuFxufVxuXG4kKGZ1bmN0aW9uKCkge1xuICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdID0ge1xuICAgICAgICBjbG9zZVRleHQ6IFwi0JfQsNC60YDRi9GC0YxcIixcbiAgICAgICAgcHJldlRleHQ6IFwiXCIsXG4gICAgICAgIG5leHRUZXh0OiBcIlwiLFxuICAgICAgICBjdXJyZW50VGV4dDogXCLQodC10LPQvtC00L3Rj1wiLFxuICAgICAgICBtb250aE5hbWVzOiBbXG4gICAgICAgICAgICBcItCv0L3QstCw0YDRjFwiLFxuICAgICAgICAgICAgXCLQpNC10LLRgNCw0LvRjFwiLFxuICAgICAgICAgICAgXCLQnNCw0YDRglwiLFxuICAgICAgICAgICAgXCLQkNC/0YDQtdC70YxcIixcbiAgICAgICAgICAgIFwi0JzQsNC5XCIsXG4gICAgICAgICAgICBcItCY0Y7QvdGMXCIsXG4gICAgICAgICAgICBcItCY0Y7Qu9GMXCIsXG4gICAgICAgICAgICBcItCQ0LLQs9GD0YHRglwiLFxuICAgICAgICAgICAgXCLQodC10L3RgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICBcItCe0LrRgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICBcItCd0L7Rj9Cx0YDRjFwiLFxuICAgICAgICAgICAgXCLQlNC10LrQsNCx0YDRjFwiLFxuICAgICAgICBdLFxuICAgICAgICBtb250aE5hbWVzU2hvcnQ6IFtcbiAgICAgICAgICAgIFwi0K/QvdCy0LDRgNGMXCIsXG4gICAgICAgICAgICBcItCk0LXQstGA0LDQu9GMXCIsXG4gICAgICAgICAgICBcItCc0LDRgNGCXCIsXG4gICAgICAgICAgICBcItCQ0L/RgNC10LvRjFwiLFxuICAgICAgICAgICAgXCLQnNCw0LlcIixcbiAgICAgICAgICAgIFwi0JjRjtC90YxcIixcbiAgICAgICAgICAgIFwi0JjRjtC70YxcIixcbiAgICAgICAgICAgIFwi0JDQstCz0YPRgdGCXCIsXG4gICAgICAgICAgICBcItCh0LXQvdGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgIFwi0J7QutGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgIFwi0J3QvtGP0LHRgNGMXCIsXG4gICAgICAgICAgICBcItCU0LXQutCw0LHRgNGMXCIsXG4gICAgICAgIF0sXG4gICAgICAgIGRheU5hbWVzOiBbXG4gICAgICAgICAgICBcItCy0L7RgdC60YDQtdGB0LXQvdGM0LVcIixcbiAgICAgICAgICAgIFwi0L/QvtC90LXQtNC10LvRjNC90LjQulwiLFxuICAgICAgICAgICAgXCLQstGC0L7RgNC90LjQulwiLFxuICAgICAgICAgICAgXCLRgdGA0LXQtNCwXCIsXG4gICAgICAgICAgICBcItGH0LXRgtCy0LXRgNCzXCIsXG4gICAgICAgICAgICBcItC/0Y/RgtC90LjRhtCwXCIsXG4gICAgICAgICAgICBcItGB0YPQsdCx0L7RgtCwXCIsXG4gICAgICAgIF0sXG4gICAgICAgIGRheU5hbWVzU2hvcnQ6IFtcItCy0YHQulwiLCBcItC/0L3QtFwiLCBcItCy0YLRgFwiLCBcItGB0YDQtFwiLCBcItGH0YLQslwiLCBcItC/0YLQvVwiLCBcItGB0LHRglwiXSxcbiAgICAgICAgZGF5TmFtZXNNaW46IFtcItCS0YFcIiwgXCLQn9C9XCIsIFwi0JLRglwiLCBcItCh0YBcIiwgXCLQp9GCXCIsIFwi0J/RglwiLCBcItCh0LFcIl0sXG4gICAgICAgIHdlZWtIZWFkZXI6IFwi0J3QtdC0XCIsXG4gICAgICAgIGRhdGVGb3JtYXQ6IFwiZGQubW0ueXlcIixcbiAgICAgICAgZmlyc3REYXk6IDEsXG4gICAgICAgIGlzUlRMOiBmYWxzZSxcbiAgICAgICAgc2hvd01vbnRoQWZ0ZXJZZWFyOiBmYWxzZSxcbiAgICAgICAgeWVhclN1ZmZpeDogXCJcIixcbiAgICB9O1xuICAgICQuZGF0ZXBpY2tlci5zZXREZWZhdWx0cygkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXSk7XG4gICAgdmFyIGRhdGVGb3JtYXQgPSBcImRkLm1tLnl5XCIsXG4gICAgICAgIGZyb20gPSAkKFwiI2Jsb2NraW5nSW5wdXRTdGFydFwiKVxuICAgICAgICAuZGF0ZXBpY2tlcigkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXSwge1xuICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICAgICAgICAgIGdvdG9DdXJyZW50OiB0cnVlLFxuICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHNob3dBbmltOiBcInNsaWRlRG93blwiLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHM6IDEsXG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoXCIjYmxvY2tpbmdJbnB1dEZpbmlzaFwiKS5kYXRlcGlja2VyKFxuICAgICAgICAgICAgICAgIFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgXCJtaW5EYXRlXCIsXG4gICAgICAgICAgICAgICAgZ2V0RGF0ZSh0aGlzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSksXG4gICAgICAgIHRvID0gJChcIiNibG9ja2luZ0lucHV0RmluaXNoXCIpLmRhdGVwaWNrZXIoJC5kYXRlcGlja2VyLnJlZ2lvbmFsW1wicnVcIl0sIHtcbiAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgICAgICAgICBnb3RvQ3VycmVudDogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHREYXRlOiBcIisxd1wiLFxuICAgICAgICAgICAgc2hvd0FuaW06IFwic2xpZGVEb3duXCIsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcbiAgICAgICAgfSk7XG5cbiAgICBmdW5jdGlvbiBnZXREYXRlKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRlID0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZShkYXRlRm9ybWF0LCBlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG59KTsiXX0=
