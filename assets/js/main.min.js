"use strict";var recover_button,confirm_button,apply_form,recover_form,return_form,allLink,currentLocation,alltableArray,selectInputField,selectInputLabel,allOptionsArray,allOptionsArrayMod,selectModalWindow,sidebarSearchForm,sidebarSearchInput,searchFieldResult,searchResult,calendarLabels,calendarLabelsArray,calendarInputs,calendarInputsArray,main,mobileButtonOpen,mobileButtonSearch,searchInput,mobileButtonClose,navigationMenu;function displaySelectValue(){var n=document.getElementById("rateSelect"),e=document.querySelectorAll(".rate-form__option");Array.prototype.slice.call(e).forEach(function(e){var t;"checked"==e.getAttribute("data-checked")&&(t=e.textContent,n.value=t)})}function uncheckEverySpan(){var e=document.querySelectorAll(".rate-form__option");Array.prototype.slice.call(e).forEach(function(e){e.setAttribute("data-checked","unchecked")})}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(null==this)throw new TypeError("Array.prototype.forEach called on null or undefined");var n,r,o,a=Object(this),c=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),r=0;r<c;){r in a&&(o=a[r],e.call(n,o,r,a)),r++}}),window.getWindowSize=function(){if(null!=window.innerWidth)return[window.innerWidth,window.innerHeight];var e=document.body,t=document.documentElement;return[Math.max(t.clientWidth,e.clientWidth),Math.max(t.clientHeight,e.clientHeight)]},String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),document.querySelector(".auth-form__recover")&&(recover_button=document.querySelector(".auth-form__recover")).addEventListener("click",function(){apply_form.classList.toggle("js--hidden"),recover_form.classList.toggle("js--hidden")}),document.querySelector(".auth-form__continue")&&(confirm_button=document.querySelector(".auth-form__continue")).addEventListener("click",function(){recover_form.classList.toggle("js--hidden"),return_form.classList.toggle("js--hidden")}),document.querySelector(".form-apply-recover")&&(apply_form=document.querySelector(".form-apply-recover")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-recover-check")&&(recover_form=document.querySelector(".form-recover-check")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-return-login")&&(return_form=document.querySelector(".form-return-login")),document.querySelectorAll(".navigation-menu__item-link")&&(allLink=document.querySelectorAll(".navigation-menu__item-link"),currentLocation=window.location.href,(alltableArray=Array.prototype.slice.call(allLink)).forEach(function(e){var t=e.getAttribute("href").replace("./","");currentLocation.includes(t)&&e.classList.add("item--checked")})),document.getElementById("rateSelect")&&(selectInputField=document.getElementById("rateSelect"),selectInputLabel=document.querySelector(".rate-form__label"),allOptionsArray=document.querySelectorAll(".rate-form__option"),allOptionsArrayMod=Array.prototype.slice.call(allOptionsArray),selectModalWindow=document.getElementById("rateModal"),displaySelectValue(),allOptionsArrayMod.forEach(function(e){e.addEventListener("click",function(){uncheckEverySpan(),e.setAttribute("data-checked","checked"),displaySelectValue(),selectModalWindow.classList.remove("js--hidden"),selectInputLabel.classList.toggle("js--rotate-arrow")})}),selectInputField.addEventListener("click",function(){selectInputLabel.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.toggle("js--hidden")}),selectModalWindow.addEventListener("mouseleave",function(){selectInputLabel.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.add("js--hidden")})),document.querySelector(".search-section--form ")&&(sidebarSearchForm=document.querySelector(".search-section--form"),sidebarSearchInput=document.querySelector(".input-section__search-input"),sidebarSearchForm.addEventListener("submit",function(e){var t=sidebarSearchInput.value;localStorage.setItem("searchResult",t)})),document.getElementById("searchField")&&(searchFieldResult=document.getElementById("searchField"),searchResult=localStorage.getItem("searchResult"),console.log(localStorage.getItem("searchResult")),searchFieldResult.value=searchResult,"Платеж"==searchFieldResult.value&&(document.getElementById("fullResult").classList.remove("js--hidden"),document.getElementById("emptyResult").classList.add("js--hidden"))),document.getElementById("paysInputStart")&&(calendarLabels=document.querySelectorAll(".stats-form__label"),(calendarLabelsArray=Array.prototype.slice.call(calendarLabels)).forEach(function(n){n.addEventListener("click",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),n.addEventListener("click",function(){t.classList.remove("js--hidden")});var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),calendarInputs=document.querySelectorAll(".form__input-form__input"),(calendarInputsArray=Array.prototype.slice.call(calendarInputs)).forEach(function(n){n.addEventListener("mouseenter",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),n.addEventListener("click",function(){t.classList.remove("js--hidden")});var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),$(function(){$.datepicker.regional.ru={closeText:"Закрыть",prevText:"",nextText:"",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru);$("#paysInputStart").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru).on("change",function(){$("#paysInputFinish").datepicker("option","minDate",function(e){var t;try{t=$.datepicker.parseDate("dd.mm.yy",e.value)}catch(e){t=null,console.log(t)}return t}(this))}),$("#paysInputFinish").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru)})),document.getElementById("blockingInputStart")&&(calendarLabels=document.querySelectorAll(".blocking-form__label"),(calendarLabelsArray=Array.prototype.slice.call(calendarLabels)).forEach(function(n){n.addEventListener("click",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),n.addEventListener("click",function(){t.classList.remove("js--hidden")});var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),calendarInputs=document.querySelectorAll(".blocking-form__input"),(calendarInputsArray=Array.prototype.slice.call(calendarInputs)).forEach(function(e){e.addEventListener("focus",function(){console.log("entered");var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),t.classList.remove("js--hidden");var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),$(function(){$.datepicker.regional.ru={closeText:"Закрыть",prevText:"",nextText:"",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru);$("#blockingInputStart").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru).on("change",function(){$("#blockingInputFinish").datepicker("option","minDate",function(e){var t;try{t=$.datepicker.parseDate("dd.mm.yy",e.value)}catch(e){t=null,console.log(t)}return t}(this))}),$("#blockingInputFinish").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru)})),document.querySelector(".header-section--mobile")&&(console.log(window.innerWidth),console.log(window.getWindowSize()[0]),window.innerWidth<=1200||window.getWindowSize()[0]<=1200?(main=document.querySelector("main")).style.marginTop="50px":document.querySelector(".header-section--mobile").classList.add("js--hidden")),document.getElementById("openMenu")&&(mobileButtonOpen=document.getElementById("openMenu"),mobileButtonSearch=document.getElementById("labelOpenMenu"),searchInput=document.getElementById("inputSearchFieldMobile"),mobileButtonClose=document.getElementById("closeMenu"),navigationMenu=document.querySelector(".navigation-section--mobile"),mobileButtonOpen.addEventListener("click",function(){mobileButtonClose.classList.add("menu-open--opened"),navigationMenu.classList.toggle("js--transformed"),document.querySelector("main").classList.toggle("js--hidden")}),mobileButtonClose.addEventListener("click",function(){navigationMenu.classList.toggle("js--transformed"),document.querySelector("main").classList.toggle("js--hidden")}),mobileButtonSearch.addEventListener("click",function(){navigationMenu.classList.toggle("js--transformed"),searchInput.focus(),document.querySelector("main").classList.toggle("js--hidden")}));var complexNavigationItem=document.getElementById("complexNavItem"),navigationContainer=document.querySelector(".navigation-menu__item-container");complexNavigationItem.addEventListener("click",function(){navigationContainer.classList.toggle("js--hidden")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJyZWNvdmVyX2J1dHRvbiIsImNvbmZpcm1fYnV0dG9uIiwiYXBwbHlfZm9ybSIsInJlY292ZXJfZm9ybSIsInJldHVybl9mb3JtIiwiYWxsTGluayIsImN1cnJlbnRMb2NhdGlvbiIsImFsbHRhYmxlQXJyYXkiLCJzZWxlY3RJbnB1dEZpZWxkIiwic2VsZWN0SW5wdXRMYWJlbCIsImFsbE9wdGlvbnNBcnJheSIsImFsbE9wdGlvbnNBcnJheU1vZCIsInNlbGVjdE1vZGFsV2luZG93Iiwic2lkZWJhclNlYXJjaEZvcm0iLCJzaWRlYmFyU2VhcmNoSW5wdXQiLCJzZWFyY2hGaWVsZFJlc3VsdCIsInNlYXJjaFJlc3VsdCIsImNhbGVuZGFyTGFiZWxzIiwiY2FsZW5kYXJMYWJlbHNBcnJheSIsImNhbGVuZGFySW5wdXRzIiwiY2FsZW5kYXJJbnB1dHNBcnJheSIsIm1haW4iLCJtb2JpbGVCdXR0b25PcGVuIiwibW9iaWxlQnV0dG9uU2VhcmNoIiwic2VhcmNoSW5wdXQiLCJtb2JpbGVCdXR0b25DbG9zZSIsIm5hdmlnYXRpb25NZW51IiwiZGlzcGxheVNlbGVjdFZhbHVlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImZvckVhY2giLCJlbGVtZW50IiwiY2hlY2tlZFZhbHVlIiwiZ2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSIsInVuY2hlY2tFdmVyeVNwYW4iLCJuZXdFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwidGhpcyIsIlR5cGVFcnJvciIsIlQiLCJrIiwia1ZhbHVlIiwiTyIsIk9iamVjdCIsImxlbiIsImxlbmd0aCIsImFyZ3VtZW50cyIsIndpbmRvdyIsImdldFdpbmRvd1NpemUiLCJ1bmRlZmluZWQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJkb2NCb2R5IiwiYm9keSIsImRvY0VsZSIsImRvY3VtZW50RWxlbWVudCIsIk1hdGgiLCJtYXgiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIlN0cmluZyIsImluY2x1ZGVzIiwic2VhcmNoIiwic3RhcnQiLCJSZWdFeHAiLCJpbmRleE9mIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibG9jYXRpb24iLCJocmVmIiwiZm9ybWF0ZWRMaW5rIiwicmVwbGFjZSIsImFkZCIsInJlbW92ZSIsInNlYXJjaFZhbHVlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwibGF5ZXIiLCJhbGxMaW5rcyIsImVsZW0iLCJjb250YWlucyIsIiQiLCJkYXRlcGlja2VyIiwicmVnaW9uYWwiLCJjbG9zZVRleHQiLCJwcmV2VGV4dCIsIm5leHRUZXh0IiwiY3VycmVudFRleHQiLCJtb250aE5hbWVzIiwibW9udGhOYW1lc1Nob3J0IiwiZGF5TmFtZXMiLCJkYXlOYW1lc1Nob3J0IiwiZGF5TmFtZXNNaW4iLCJ3ZWVrSGVhZGVyIiwiZGF0ZUZvcm1hdCIsImZpcnN0RGF5IiwiaXNSVEwiLCJzaG93TW9udGhBZnRlclllYXIiLCJ5ZWFyU3VmZml4Iiwic2V0RGVmYXVsdHMiLCJpbmxpbmUiLCJjaGFuZ2VZZWFyIiwiZ290b0N1cnJlbnQiLCJtaW5EYXRlIiwic2hvd0FuaW0iLCJudW1iZXJPZk1vbnRocyIsIm9uIiwiZGF0ZSIsInBhcnNlRGF0ZSIsImVycm9yIiwiZ2V0RGF0ZSIsInN0eWxlIiwibWFyZ2luVG9wIiwiZm9jdXMiLCJjb21wbGV4TmF2aWdhdGlvbkl0ZW0iLCJuYXZpZ2F0aW9uQ29udGFpbmVyIl0sIm1hcHBpbmdzIjoiYUF5RkEsSUFDQUEsZUFPQUMsZUFPQUMsV0FPQUMsYUFNQUMsWUFJQUMsUUFDQUMsZ0JBQ0FDLGNBY0FDLGlCQUNBQyxpQkFDQUMs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QUNBRSxVQUFBUSxJQUFBLGVBR0F6RCxTQUFBQyxlQUFBLGNBQ0FQLGlCQUFBTSxTQUFBQyxlQUFBLFlBQ0FOLG1CQUFBSyxTQUFBQyxlQUFBLGlCQUNBTCxZQUFBSSxTQUFBQyxlQUFBLDBCQUNBSixrQkFBQUcsU0FBQUMsZUFBQSxhQUNBSCxlQUFBRSxTQUFBK0MsY0FBQSwrQkFDQXJELGlCQUFBc0QsaUJBQUEsUUFBQSxXQUNBbkQsa0JBQUFvRCxVQUFBUSxJQUFBLHFCQUNBM0QsZUFBQW1ELFVBQUFDLE9BQUEsbUJBQ0FsRCxTQUFBK0MsY0FBQSxRQUFBRSxVQUFBQyxPQUFBLGdCQUVBckQsa0JBQUFtRCxpQkFBQSxRQUFBLFdBQ0FsRCxlQUFBbUQsVUFBQUMsT0FBQSxtQkFDQWxELFNBQUErQyxjQUFBLFFBQUFFLFVBQUFDLE9BQUEsZ0JBRUF2RCxtQkFBQXFELGlCQUFBLFFBQUEsV0FDQWxELGVBQUFtRCxVQUFBQyxPQUFBLG1CQUNBdEQsWUFBQXlHLFFBQ0FyRyxTQUFBK0MsY0FBQSxRQUFBRSxVQUFBQyxPQUFBLGlCQUlBLElBQUFvRCxzQkFBQXRHLFNBQUFDLGVBQUEsa0JBQ0FzRyxvQkFBQXZHLFNBQUErQyxjQUNBLG9DQUVBdUQsc0JBQUF0RCxpQkFBQSxRQUFBLFdBQ0F1RCxvQkFBQXRELFVBQUFDLE9BQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRPRE86INCf0L7Qu9C40YTQuNC7INC00LvRjyDQstGB0LXRhSBFUzYg0YTRg9C90LrRhtC40LkgSlNcbi8vIFByb2R1Y3Rpb24gc3RlcHMgb2YgRUNNQS0yNjIsIEVkaXRpb24gNSwgMTUuNC40LjE4XG4vLyBSZWZlcmVuY2U6IGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjQuNC4xOFxuLy8g0J/QvtC70LjRhNC40LvQuyBmb3JlY2hcbmlmICghQXJyYXkucHJvdG90eXBlW1wiZm9yRWFjaFwiXSkge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIFQsIGs7XG4gICAgICAgIC8vIDEuIExldCBPIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0b09iamVjdCgpIHBhc3NpbmcgdGhlXG4gICAgICAgIC8vIHx0aGlzfCB2YWx1ZSBhcyB0aGUgYXJndW1lbnQuXG4gICAgICAgIHZhciBPID0gT2JqZWN0KHRoaXMpO1xuXG4gICAgICAgIC8vIDIuIExldCBsZW5WYWx1ZSBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIEdldCgpIGludGVybmFsXG4gICAgICAgIC8vIG1ldGhvZCBvZiBPIHdpdGggdGhlIGFyZ3VtZW50IFwibGVuZ3RoXCIuXG4gICAgICAgIC8vIDMuIExldCBsZW4gYmUgdG9VaW50MzIobGVuVmFsdWUpLlxuICAgICAgICB2YXIgbGVuID0gTy5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgLy8gNC4gSWYgaXNDYWxsYWJsZShjYWxsYmFjaykgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cbiAgICAgICAgLy8gU2VlOiBodHRwczovL2VzNS5naXRodWIuaW8vI3g5LjExXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNS4gSWYgdGhpc0FyZyB3YXMgc3VwcGxpZWQsIGxldCBUIGJlIHRoaXNBcmc7IGVsc2UgbGV0XG4gICAgICAgIC8vIFQgYmUgdW5kZWZpbmVkLlxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIFQgPSB0aGlzQXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNi4gTGV0IGsgYmUgMFxuICAgICAgICBrID0gMDtcblxuICAgICAgICAvLyA3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW5cbiAgICAgICAgd2hpbGUgKGsgPCBsZW4pIHtcbiAgICAgICAgICAgIHZhciBrVmFsdWU7XG5cbiAgICAgICAgICAgIC8vIGEuIExldCBQayBiZSBUb1N0cmluZyhrKS5cbiAgICAgICAgICAgIC8vICAgIFRoaXMgaXMgaW1wbGljaXQgZm9yIExIUyBvcGVyYW5kcyBvZiB0aGUgaW4gb3BlcmF0b3JcbiAgICAgICAgICAgIC8vIGIuIExldCBrUHJlc2VudCBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIEhhc1Byb3BlcnR5XG4gICAgICAgICAgICAvLyAgICBpbnRlcm5hbCBtZXRob2Qgb2YgTyB3aXRoIGFyZ3VtZW50IFBrLlxuICAgICAgICAgICAgLy8gICAgVGhpcyBzdGVwIGNhbiBiZSBjb21iaW5lZCB3aXRoIGNcbiAgICAgICAgICAgIC8vIGMuIElmIGtQcmVzZW50IGlzIHRydWUsIHRoZW5cbiAgICAgICAgICAgIGlmIChrIGluIE8pIHtcbiAgICAgICAgICAgICAgICAvLyBpLiBMZXQga1ZhbHVlIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgR2V0IGludGVybmFsXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kIG9mIE8gd2l0aCBhcmd1bWVudCBQay5cbiAgICAgICAgICAgICAgICBrVmFsdWUgPSBPW2tdO1xuXG4gICAgICAgICAgICAgICAgLy8gaWkuIENhbGwgdGhlIENhbGwgaW50ZXJuYWwgbWV0aG9kIG9mIGNhbGxiYWNrIHdpdGggVCBhc1xuICAgICAgICAgICAgICAgIC8vIHRoZSB0aGlzIHZhbHVlIGFuZCBhcmd1bWVudCBsaXN0IGNvbnRhaW5pbmcga1ZhbHVlLCBrLCBhbmQgTy5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKFQsIGtWYWx1ZSwgaywgTyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkLiBJbmNyZWFzZSBrIGJ5IDEuXG4gICAgICAgICAgICBrKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gOC4gcmV0dXJuIHVuZGVmaW5lZFxuICAgIH07XG59XG4vLyDQn9C+0LvQuNGE0LjQu9C7IGlubmVyV2lkdGhcbndpbmRvdy5nZXRXaW5kb3dTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoICE9IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3dpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHRdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkb2NCb2R5ID0gZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgIGRvY0VsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIE1hdGgubWF4KGRvY0VsZS5jbGllbnRXaWR0aCwgZG9jQm9keS5jbGllbnRXaWR0aCksXG4gICAgICAgICAgICBNYXRoLm1heChkb2NFbGUuY2xpZW50SGVpZ2h0LCBkb2NCb2R5LmNsaWVudEhlaWdodCksXG4gICAgICAgIF07XG4gICAgfVxufTtcbi8vINCf0L7Qu9C40YTQuNC70LsgSW5jbHVkZXNcbmlmICghU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcykge1xuICAgIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2gsIHN0YXJ0KSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgICAgIGlmIChzZWFyY2ggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcImZpcnN0IGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgUmVnRXhwXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzZWFyY2gsIHN0YXJ0KSAhPT0gLTE7XG4gICAgfTtcbn1cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fcmVjb3ZlclwiKSkge1xuICAgIHZhciByZWNvdmVyX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19yZWNvdmVyXCIpO1xuICAgIHJlY292ZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGFwcGx5X2Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgIHJlY292ZXJfZm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbn1cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fY29udGludWVcIikpIHtcbiAgICB2YXIgY29uZmlybV9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fY29udGludWVcIik7XG4gICAgY29uZmlybV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcmVjb3Zlcl9mb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICByZXR1cm5fZm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbn1cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tYXBwbHktcmVjb3ZlclwiKSkge1xuICAgIHZhciBhcHBseV9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWFwcGx5LXJlY292ZXJcIik7XG5cbiAgICBhcHBseV9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXJlY292ZXItY2hlY2tcIikpIHtcbiAgICB2YXIgcmVjb3Zlcl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXJlY292ZXItY2hlY2tcIik7XG4gICAgcmVjb3Zlcl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXJldHVybi1sb2dpblwiKSkge1xuICAgIHZhciByZXR1cm5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZXR1cm4tbG9naW5cIik7XG59XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbWVudV9faXRlbS1saW5rXCIpKSB7XG4gICAgdmFyIGFsbExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbWVudV9faXRlbS1saW5rXCIpO1xuICAgIHZhciBjdXJyZW50TG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICB2YXIgYWxsdGFibGVBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFsbExpbmspO1xuICAgIGFsbHRhYmxlQXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICB2YXIgbGluayA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgdmFyIGZvcm1hdGVkTGluayA9IGxpbmsucmVwbGFjZShcIi4vXCIsIFwiXCIpO1xuICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uLmluY2x1ZGVzKGZvcm1hdGVkTGluaykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIml0ZW0tLWNoZWNrZWRcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8g0J7Qv9C10YDQsNGG0LjQuCDRgSDRgtCw0YDQuNGE0LDQvNC4XG5cbi8vINCh0L3QsNGH0LDQu9CwINC/0L7Qu9GD0YfQuNC8INC4INCy0YvQstC10LTQtdC8INC30L3QsNGH0LXQvdC40LUg0L7RgtC80LXRh9C10L3QvdC+0LPQviBvcHRpb25cbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVTZWxlY3RcIikpIHtcbiAgICB2YXIgc2VsZWN0SW5wdXRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmF0ZVNlbGVjdFwiKTtcbiAgICB2YXIgc2VsZWN0SW5wdXRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmF0ZS1mb3JtX19sYWJlbFwiKTtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlLWZvcm1fX29wdGlvblwiKTtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5TW9kID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYWxsT3B0aW9uc0FycmF5KTtcbiAgICB2YXIgc2VsZWN0TW9kYWxXaW5kb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVNb2RhbFwiKTtcbiAgICBkaXNwbGF5U2VsZWN0VmFsdWUoKTtcbiAgICAvLyDQn9C+INC60LvQuNC60YMg0LzQtdC90Y/QtdC8INC30L3QsNGH0LXQvdC40LUgZGF0YS1jaGVja2VkXG4gICAgYWxsT3B0aW9uc0FycmF5TW9kLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdW5jaGVja0V2ZXJ5U3BhbigpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJjaGVja2VkXCIpO1xuICAgICAgICAgICAgZGlzcGxheVNlbGVjdFZhbHVlKCk7XG4gICAgICAgICAgICBzZWxlY3RNb2RhbFdpbmRvdy5jbGFzc0xpc3QucmVtb3ZlKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIHNlbGVjdElucHV0TGFiZWwuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1yb3RhdGUtYXJyb3dcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHNlbGVjdElucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgc2VsZWN0SW5wdXRMYWJlbC5jbGFzc0xpc3QudG9nZ2xlKFwianMtLXJvdGF0ZS1hcnJvd1wiKTtcbiAgICAgICAgc2VsZWN0TW9kYWxXaW5kb3cuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG5cbiAgICBzZWxlY3RNb2RhbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgIHNlbGVjdElucHV0TGFiZWwuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1yb3RhdGUtYXJyb3dcIik7XG4gICAgICAgIHNlbGVjdE1vZGFsV2luZG93LmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgIH0pO1xufVxuLy8g0J/QtdGA0LXQtNCw0YfQsCBkYXRhLWNoZWNrZWQg0LfQvdCw0YfQtdC90LjRjyDQsiDQv9C+0LvQtSBTZWxlY3RcbmZ1bmN0aW9uIGRpc3BsYXlTZWxlY3RWYWx1ZSgpIHtcbiAgICB2YXIgc2VsZWN0SW5wdXRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmF0ZVNlbGVjdFwiKTtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlLWZvcm1fX29wdGlvblwiKTtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5TW9kID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYWxsT3B0aW9uc0FycmF5KTtcbiAgICBhbGxPcHRpb25zQXJyYXlNb2QuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICB2YXIgY2hlY2tlZEJvb2wgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiKTtcbiAgICAgICAgaWYgKGNoZWNrZWRCb29sID09IFwiY2hlY2tlZFwiKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIHNlbGVjdElucHV0RmllbGQudmFsdWUgPSBjaGVja2VkVmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdW5jaGVja0V2ZXJ5U3BhbigpIHtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlLWZvcm1fX29wdGlvblwiKTtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5TW9kID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYWxsT3B0aW9uc0FycmF5KTtcbiAgICBhbGxPcHRpb25zQXJyYXlNb2QuZm9yRWFjaCgobmV3RWxlbWVudCkgPT4ge1xuICAgICAgICBuZXdFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcInVuY2hlY2tlZFwiKTtcbiAgICB9KTtcbn1cblxuLy8g0J7QsdGA0LDQsdC+0YLQutCwINGE0L7RgNC80Ysg0L/QvtC40YHQutCwINCyINCx0L7QutC+0LLQvtC8INC80LXQvdGOXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtc2VjdGlvbi0tZm9ybSBcIikpIHtcbiAgICB2YXIgc2lkZWJhclNlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1zZWN0aW9uLS1mb3JtXCIpO1xuICAgIHZhciBzaWRlYmFyU2VhcmNoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBcIi5pbnB1dC1zZWN0aW9uX19zZWFyY2gtaW5wdXRcIlxuICAgICk7XG4gICAgc2lkZWJhclNlYXJjaEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIHNlYXJjaFZhbHVlID0gc2lkZWJhclNlYXJjaElucHV0LnZhbHVlO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNlYXJjaFJlc3VsdFwiLCBzZWFyY2hWYWx1ZSk7XG4gICAgfSk7XG59XG5cbi8vINCg0LXQt9GD0LvRjNGC0LDRgtGLINC/0L7QuNGB0LrQsFxuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hGaWVsZFwiKSkge1xuICAgIHZhciBzZWFyY2hGaWVsZFJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoRmllbGRcIik7XG4gICAgdmFyIHNlYXJjaFJlc3VsdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2VhcmNoUmVzdWx0XCIpO1xuICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2VhcmNoUmVzdWx0XCIpKTtcbiAgICBzZWFyY2hGaWVsZFJlc3VsdC52YWx1ZSA9IHNlYXJjaFJlc3VsdDtcbiAgICBpZiAoc2VhcmNoRmllbGRSZXN1bHQudmFsdWUgPT0gXCLQn9C70LDRgtC10LZcIikge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1bGxSZXN1bHRcIikuY2xhc3NMaXN0LnJlbW92ZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1wdHlSZXN1bHRcIikuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgfVxufVxuLy8g0JrQsNC70LXQvdC00LDRgNGMINC00LvRjyDRgdC+0YDRgtC40YDQvtCy0LrQuCDQv9C+INC/0LvQsNGC0LXQttCw0LxcbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBheXNJbnB1dFN0YXJ0XCIpKSB7XG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0L/QvtC00LvQvtC20LrQuFxuICAgIHZhciBjYWxlbmRhckxhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3RhdHMtZm9ybV9fbGFiZWxcIik7XG4gICAgdmFyIGNhbGVuZGFyTGFiZWxzQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjYWxlbmRhckxhYmVscyk7XG4gICAgY2FsZW5kYXJMYWJlbHNBcnJheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsZW5kYXItbGF5ZXJcIik7XG4gICAgICAgICAgICBsYXllci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjYWxlbmRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudWktZGF0ZXBpY2tlclwiKTtcbiAgICAgICAgICAgIHZhciBhbGxMaW5rcyA9IGNhbGVuZGFyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZFwiKTtcbiAgICAgICAgICAgIHZhciBhbGxMaW5rc0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYWxsTGlua3MpO1xuICAgICAgICAgICAgYWxsTGlua3NBcnJheS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucyhcInVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIGNhbGVuZGFySW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dC1mb3JtX19pbnB1dFwiKTtcbiAgICB2YXIgY2FsZW5kYXJJbnB1dHNBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNhbGVuZGFySW5wdXRzKTtcbiAgICBjYWxlbmRhcklucHV0c0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGVuZGFyLWxheWVyXCIpO1xuICAgICAgICAgICAgbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVpLWRhdGVwaWNrZXJcIik7XG4gICAgICAgICAgICB2YXIgYWxsTGlua3MgPSBjYWxlbmRhci5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIik7XG4gICAgICAgICAgICB2YXIgYWxsTGlua3NBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFsbExpbmtzKTtcbiAgICAgICAgICAgIGFsbExpbmtzQXJyYXkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vINCj0LHQuNGA0LDQvdC40LUg0L/QvtC00LvQvtC20LrQuFxuXG4gICAgJChmdW5jdGlvbigpIHtcbiAgICAgICAgJC5kYXRlcGlja2VyLnJlZ2lvbmFsW1wicnVcIl0gPSB7XG4gICAgICAgICAgICBjbG9zZVRleHQ6IFwi0JfQsNC60YDRi9GC0YxcIixcbiAgICAgICAgICAgIHByZXZUZXh0OiBcIlwiLFxuICAgICAgICAgICAgbmV4dFRleHQ6IFwiXCIsXG4gICAgICAgICAgICBjdXJyZW50VGV4dDogXCLQodC10LPQvtC00L3Rj1wiLFxuICAgICAgICAgICAgbW9udGhOYW1lczogW1xuICAgICAgICAgICAgICAgIFwi0K/QvdCy0LDRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQpNC10LLRgNCw0LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JzQsNGA0YJcIixcbiAgICAgICAgICAgICAgICBcItCQ0L/RgNC10LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JzQsNC5XCIsXG4gICAgICAgICAgICAgICAgXCLQmNGO0L3RjFwiLFxuICAgICAgICAgICAgICAgIFwi0JjRjtC70YxcIixcbiAgICAgICAgICAgICAgICBcItCQ0LLQs9GD0YHRglwiLFxuICAgICAgICAgICAgICAgIFwi0KHQtdC90YLRj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0J7QutGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCd0L7Rj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JTQtdC60LDQsdGA0YxcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtb250aE5hbWVzU2hvcnQ6IFtcbiAgICAgICAgICAgICAgICBcItCv0L3QstCw0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0KTQtdCy0YDQsNC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDRgNGCXCIsXG4gICAgICAgICAgICAgICAgXCLQkNC/0YDQtdC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDQuVwiLFxuICAgICAgICAgICAgICAgIFwi0JjRjtC90YxcIixcbiAgICAgICAgICAgICAgICBcItCY0Y7Qu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQkNCy0LPRg9GB0YJcIixcbiAgICAgICAgICAgICAgICBcItCh0LXQvdGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCe0LrRgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQndC+0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCU0LXQutCw0LHRgNGMXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGF5TmFtZXM6IFtcbiAgICAgICAgICAgICAgICBcItCy0L7RgdC60YDQtdGB0LXQvdGM0LVcIixcbiAgICAgICAgICAgICAgICBcItC/0L7QvdC10LTQtdC70YzQvdC40LpcIixcbiAgICAgICAgICAgICAgICBcItCy0YLQvtGA0L3QuNC6XCIsXG4gICAgICAgICAgICAgICAgXCLRgdGA0LXQtNCwXCIsXG4gICAgICAgICAgICAgICAgXCLRh9C10YLQstC10YDQs1wiLFxuICAgICAgICAgICAgICAgIFwi0L/Rj9GC0L3QuNGG0LBcIixcbiAgICAgICAgICAgICAgICBcItGB0YPQsdCx0L7RgtCwXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGF5TmFtZXNTaG9ydDogW1wi0LLRgdC6XCIsIFwi0L/QvdC0XCIsIFwi0LLRgtGAXCIsIFwi0YHRgNC0XCIsIFwi0YfRgtCyXCIsIFwi0L/RgtC9XCIsIFwi0YHQsdGCXCJdLFxuICAgICAgICAgICAgZGF5TmFtZXNNaW46IFtcItCS0YFcIiwgXCLQn9C9XCIsIFwi0JLRglwiLCBcItCh0YBcIiwgXCLQp9GCXCIsIFwi0J/RglwiLCBcItCh0LFcIl0sXG4gICAgICAgICAgICB3ZWVrSGVhZGVyOiBcItCd0LXQtFwiLFxuICAgICAgICAgICAgZGF0ZUZvcm1hdDogXCJkZC5tbS55eVwiLFxuICAgICAgICAgICAgZmlyc3REYXk6IDEsXG4gICAgICAgICAgICBpc1JUTDogZmFsc2UsXG4gICAgICAgICAgICBzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuICAgICAgICAgICAgeWVhclN1ZmZpeDogXCJcIixcbiAgICAgICAgfTtcbiAgICAgICAgJC5kYXRlcGlja2VyLnNldERlZmF1bHRzKCQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdKTtcbiAgICAgICAgdmFyIGRhdGVGb3JtYXQgPSBcImRkLm1tLnl5XCIsXG4gICAgICAgICAgICBmcm9tID0gJChcIiNwYXlzSW5wdXRTdGFydFwiKVxuICAgICAgICAgICAgLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdvdG9DdXJyZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiBcImRkLm1tLnl5XCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIHNob3dBbmltOiBcInNsaWRlRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJChcIiNwYXlzSW5wdXRGaW5pc2hcIikuZGF0ZXBpY2tlcihcIm9wdGlvblwiLCBcIm1pbkRhdGVcIiwgZ2V0RGF0ZSh0aGlzKSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRvID0gJChcIiNwYXlzSW5wdXRGaW5pc2hcIikuZGF0ZXBpY2tlcih7XG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ290b0N1cnJlbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6IFwiZGQubW0ueXlcIixcbiAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0FuaW06IFwic2xpZGVEb3duXCIsXG4gICAgICAgICAgICAgICAgICAgIG51bWJlck9mTW9udGhzOiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJC5kYXRlcGlja2VyLnJlZ2lvbmFsW1wicnVcIl1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RGF0ZShlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgZGF0ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9ICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoZGF0ZUZvcm1hdCwgZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyDQmtCw0LvQtdC90LTQsNGA0Ywg0LTQu9GPINCx0LvQvtC60LjRgNC+0LLQutC4XG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibG9ja2luZ0lucHV0U3RhcnRcIikpIHtcbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQv9C+0LTQu9C+0LbQutC4XG4gICAgdmFyIGNhbGVuZGFyTGFiZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ibG9ja2luZy1mb3JtX19sYWJlbFwiKTtcbiAgICB2YXIgY2FsZW5kYXJMYWJlbHNBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNhbGVuZGFyTGFiZWxzKTtcbiAgICBjYWxlbmRhckxhYmVsc0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxlbmRhci1sYXllclwiKTtcbiAgICAgICAgICAgIGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QucmVtb3ZlKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51aS1kYXRlcGlja2VyXCIpO1xuICAgICAgICAgICAgdmFyIGFsbExpbmtzID0gY2FsZW5kYXIucXVlcnlTZWxlY3RvckFsbChcInRkXCIpO1xuICAgICAgICAgICAgdmFyIGFsbExpbmtzQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhbGxMaW5rcyk7XG4gICAgICAgICAgICBhbGxMaW5rc0FycmF5LmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwidWktZGF0ZXBpY2tlci11bnNlbGVjdGFibGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgY2FsZW5kYXJJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJsb2NraW5nLWZvcm1fX2lucHV0XCIpO1xuICAgIHZhciBjYWxlbmRhcklucHV0c0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY2FsZW5kYXJJbnB1dHMpO1xuICAgIGNhbGVuZGFySW5wdXRzQXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVudGVyZWRcIik7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGVuZGFyLWxheWVyXCIpO1xuICAgICAgICAgICAgbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVpLWRhdGVwaWNrZXJcIik7XG4gICAgICAgICAgICB2YXIgYWxsTGlua3MgPSBjYWxlbmRhci5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIik7XG4gICAgICAgICAgICB2YXIgYWxsTGlua3NBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFsbExpbmtzKTtcbiAgICAgICAgICAgIGFsbExpbmtzQXJyYXkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vINCj0LHQuNGA0LDQvdC40LUg0L/QvtC00LvQvtC20LrQuFxuXG4gICAgJChmdW5jdGlvbigpIHtcbiAgICAgICAgJC5kYXRlcGlja2VyLnJlZ2lvbmFsW1wicnVcIl0gPSB7XG4gICAgICAgICAgICBjbG9zZVRleHQ6IFwi0JfQsNC60YDRi9GC0YxcIixcbiAgICAgICAgICAgIHByZXZUZXh0OiBcIlwiLFxuICAgICAgICAgICAgbmV4dFRleHQ6IFwiXCIsXG4gICAgICAgICAgICBjdXJyZW50VGV4dDogXCLQodC10LPQvtC00L3Rj1wiLFxuICAgICAgICAgICAgbW9udGhOYW1lczogW1xuICAgICAgICAgICAgICAgIFwi0K/QvdCy0LDRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQpNC10LLRgNCw0LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JzQsNGA0YJcIixcbiAgICAgICAgICAgICAgICBcItCQ0L/RgNC10LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JzQsNC5XCIsXG4gICAgICAgICAgICAgICAgXCLQmNGO0L3RjFwiLFxuICAgICAgICAgICAgICAgIFwi0JjRjtC70YxcIixcbiAgICAgICAgICAgICAgICBcItCQ0LLQs9GD0YHRglwiLFxuICAgICAgICAgICAgICAgIFwi0KHQtdC90YLRj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0J7QutGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCd0L7Rj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JTQtdC60LDQsdGA0YxcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtb250aE5hbWVzU2hvcnQ6IFtcbiAgICAgICAgICAgICAgICBcItCv0L3QstCw0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0KTQtdCy0YDQsNC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDRgNGCXCIsXG4gICAgICAgICAgICAgICAgXCLQkNC/0YDQtdC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDQuVwiLFxuICAgICAgICAgICAgICAgIFwi0JjRjtC90YxcIixcbiAgICAgICAgICAgICAgICBcItCY0Y7Qu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQkNCy0LPRg9GB0YJcIixcbiAgICAgICAgICAgICAgICBcItCh0LXQvdGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCe0LrRgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQndC+0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCU0LXQutCw0LHRgNGMXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGF5TmFtZXM6IFtcbiAgICAgICAgICAgICAgICBcItCy0L7RgdC60YDQtdGB0LXQvdGM0LVcIixcbiAgICAgICAgICAgICAgICBcItC/0L7QvdC10LTQtdC70YzQvdC40LpcIixcbiAgICAgICAgICAgICAgICBcItCy0YLQvtGA0L3QuNC6XCIsXG4gICAgICAgICAgICAgICAgXCLRgdGA0LXQtNCwXCIsXG4gICAgICAgICAgICAgICAgXCLRh9C10YLQstC10YDQs1wiLFxuICAgICAgICAgICAgICAgIFwi0L/Rj9GC0L3QuNGG0LBcIixcbiAgICAgICAgICAgICAgICBcItGB0YPQsdCx0L7RgtCwXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGF5TmFtZXNTaG9ydDogW1wi0LLRgdC6XCIsIFwi0L/QvdC0XCIsIFwi0LLRgtGAXCIsIFwi0YHRgNC0XCIsIFwi0YfRgtCyXCIsIFwi0L/RgtC9XCIsIFwi0YHQsdGCXCJdLFxuICAgICAgICAgICAgZGF5TmFtZXNNaW46IFtcItCS0YFcIiwgXCLQn9C9XCIsIFwi0JLRglwiLCBcItCh0YBcIiwgXCLQp9GCXCIsIFwi0J/RglwiLCBcItCh0LFcIl0sXG4gICAgICAgICAgICB3ZWVrSGVhZGVyOiBcItCd0LXQtFwiLFxuICAgICAgICAgICAgZGF0ZUZvcm1hdDogXCJkZC5tbS55eVwiLFxuICAgICAgICAgICAgZmlyc3REYXk6IDEsXG4gICAgICAgICAgICBpc1JUTDogZmFsc2UsXG4gICAgICAgICAgICBzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuICAgICAgICAgICAgeWVhclN1ZmZpeDogXCJcIixcbiAgICAgICAgfTtcbiAgICAgICAgJC5kYXRlcGlja2VyLnNldERlZmF1bHRzKCQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdKTtcbiAgICAgICAgdmFyIGRhdGVGb3JtYXQgPSBcImRkLm1tLnl5XCIsXG4gICAgICAgICAgICBmcm9tID0gJChcIiNibG9ja2luZ0lucHV0U3RhcnRcIilcbiAgICAgICAgICAgIC5kYXRlcGlja2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnb3RvQ3VycmVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogXCJkZC5tbS55eVwiLFxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBzaG93QW5pbTogXCJzbGlkZURvd25cIixcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZNb250aHM6IDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoXCIjYmxvY2tpbmdJbnB1dEZpbmlzaFwiKS5kYXRlcGlja2VyKFxuICAgICAgICAgICAgICAgICAgICBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1pbkRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0RGF0ZSh0aGlzKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRvID0gJChcIiNibG9ja2luZ0lucHV0RmluaXNoXCIpLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdvdG9DdXJyZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiBcImRkLm1tLnl5XCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIHNob3dBbmltOiBcInNsaWRlRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldERhdGUoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKGRhdGVGb3JtYXQsIGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1zZWN0aW9uLS1tb2JpbGVcIikpIHtcbiAgICBjb25zb2xlLmxvZyh3aW5kb3cuaW5uZXJXaWR0aCk7XG4gICAgY29uc29sZS5sb2cod2luZG93LmdldFdpbmRvd1NpemUoKVswXSk7XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEyMDAgfHwgd2luZG93LmdldFdpbmRvd1NpemUoKVswXSA8PSAxMjAwKSB7XG4gICAgICAgIHZhciBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIik7XG4gICAgICAgIG1haW4uc3R5bGUubWFyZ2luVG9wID0gXCI1MHB4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1zZWN0aW9uLS1tb2JpbGVcIilcbiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICB9XG59XG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcGVuTWVudVwiKSkge1xuICAgIHZhciBtb2JpbGVCdXR0b25PcGVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcGVuTWVudVwiKTtcbiAgICB2YXIgbW9iaWxlQnV0dG9uU2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYWJlbE9wZW5NZW51XCIpO1xuICAgIHZhciBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRTZWFyY2hGaWVsZE1vYmlsZVwiKTtcbiAgICB2YXIgbW9iaWxlQnV0dG9uQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlTWVudVwiKTtcbiAgICB2YXIgbmF2aWdhdGlvbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb24tc2VjdGlvbi0tbW9iaWxlXCIpO1xuICAgIG1vYmlsZUJ1dHRvbk9wZW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbW9iaWxlQnV0dG9uQ2xvc2UuY2xhc3NMaXN0LmFkZChcIm1lbnUtb3Blbi0tb3BlbmVkXCIpO1xuICAgICAgICBuYXZpZ2F0aW9uTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLXRyYW5zZm9ybWVkXCIpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbiAgICBtb2JpbGVCdXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBuYXZpZ2F0aW9uTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLXRyYW5zZm9ybWVkXCIpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbiAgICBtb2JpbGVCdXR0b25TZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbmF2aWdhdGlvbk1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS10cmFuc2Zvcm1lZFwiKTtcbiAgICAgICAgc2VhcmNoSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIikuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG59XG5cbnZhciBjb21wbGV4TmF2aWdhdGlvbkl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXBsZXhOYXZJdGVtXCIpO1xudmFyIG5hdmlnYXRpb25Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgIFwiLm5hdmlnYXRpb24tbWVudV9faXRlbS1jb250YWluZXJcIlxuKTtcbmNvbXBsZXhOYXZpZ2F0aW9uSXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG5hdmlnYXRpb25Db250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG59KTtcblxuIl19
