"use strict";var recover_button,confirm_button,apply_form,recover_form,return_form,allLink,currentLocation,alltableArray,selectInputField,selectInputLabel,allOptionsArray,allOptionsArrayMod,selectModalWindow,sidebarSearchForm,sidebarSearchInput,searchFieldResult,searchResult,calendarLabels,calendarLabelsArray,calendarInputs,calendarInputsArray,main,mobileButtonOpen,mobileButtonSearch,searchInput,mobileButtonClose,navigationMenu;function displaySelectValue(){var n=document.getElementById("rateSelect"),e=document.querySelectorAll(".rate-form__option");Array.prototype.slice.call(e).forEach(function(e){var t;"checked"==e.getAttribute("data-checked")&&(t=e.textContent,n.value=t)})}function uncheckEverySpan(){var e=document.querySelectorAll(".rate-form__option");Array.prototype.slice.call(e).forEach(function(e){e.setAttribute("data-checked","unchecked")})}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(null==this)throw new TypeError("Array.prototype.forEach called on null or undefined");var n,r,o,a=Object(this),c=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),r=0;r<c;){r in a&&(o=a[r],e.call(n,o,r,a)),r++}}),window.getWindowSize=function(){if(null!=window.innerWidth)return[window.innerWidth,window.innerHeight];var e=document.body,t=document.documentElement;return[Math.max(t.clientWidth,e.clientWidth),Math.max(t.clientHeight,e.clientHeight)]},String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),document.querySelector(".auth-form__recover")&&(recover_button=document.querySelector(".auth-form__recover")).addEventListener("click",function(){apply_form.classList.toggle("js--hidden"),recover_form.classList.toggle("js--hidden")}),document.querySelector(".auth-form__continue")&&(confirm_button=document.querySelector(".auth-form__continue")).addEventListener("click",function(){recover_form.classList.toggle("js--hidden"),return_form.classList.toggle("js--hidden")}),document.querySelector(".form-apply-recover")&&(apply_form=document.querySelector(".form-apply-recover")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-recover-check")&&(recover_form=document.querySelector(".form-recover-check")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-return-login")&&(return_form=document.querySelector(".form-return-login")),document.querySelectorAll(".navigation-menu__item-link")&&(allLink=document.querySelectorAll(".navigation-menu__item-link"),currentLocation=window.location.href,(alltableArray=Array.prototype.slice.call(allLink)).forEach(function(e){var t=e.getAttribute("href").replace("./","");currentLocation.includes(t)&&e.classList.add("item--checked")})),document.getElementById("rateSelect")&&(selectInputField=document.getElementById("rateSelect"),selectInputLabel=document.querySelector(".rate-form__label"),allOptionsArray=document.querySelectorAll(".rate-form__option"),allOptionsArrayMod=Array.prototype.slice.call(allOptionsArray),selectModalWindow=document.getElementById("rateModal"),displaySelectValue(),allOptionsArrayMod.forEach(function(e){e.addEventListener("click",function(){uncheckEverySpan(),e.setAttribute("data-checked","checked"),displaySelectValue(),selectModalWindow.classList.remove("js--hidden"),selectInputLabel.classList.toggle("js--rotate-arrow")})}),selectInputField.addEventListener("click",function(){selectInputLabel.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.toggle("js--hidden")}),selectModalWindow.addEventListener("mouseleave",function(){selectInputLabel.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.add("js--hidden")})),document.querySelector(".search-section--form ")&&(sidebarSearchForm=document.querySelector(".search-section--form"),sidebarSearchInput=document.querySelector(".input-section__search-input"),sidebarSearchForm.addEventListener("submit",function(e){var t=sidebarSearchInput.value;localStorage.setItem("searchResult",t)})),document.getElementById("searchField")&&(searchFieldResult=document.getElementById("searchField"),searchResult=localStorage.getItem("searchResult"),console.log(localStorage.getItem("searchResult")),searchFieldResult.value=searchResult,"Платеж"==searchFieldResult.value&&(document.getElementById("fullResult").classList.remove("js--hidden"),document.getElementById("emptyResult").classList.add("js--hidden"))),document.getElementById("paysInputStart")&&(calendarLabels=document.querySelectorAll(".stats-form__label"),(calendarLabelsArray=Array.prototype.slice.call(calendarLabels)).forEach(function(n){n.addEventListener("click",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),n.addEventListener("click",function(){t.classList.remove("js--hidden")});var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),calendarInputs=document.querySelectorAll(".form__input-form__input"),(calendarInputsArray=Array.prototype.slice.call(calendarInputs)).forEach(function(n){n.addEventListener("mouseenter",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),n.addEventListener("click",function(){t.classList.remove("js--hidden")});var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),$(function(){$.datepicker.regional.ru={closeText:"Закрыть",prevText:"",nextText:"",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru);$("#paysInputStart").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru).on("change",function(){$("#paysInputFinish").datepicker("option","minDate",function(e){var t;try{t=$.datepicker.parseDate("dd.mm.yy",e.value)}catch(e){t=null,console.log(t)}return t}(this))}),$("#paysInputFinish").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru)})),document.getElementById("blockingInputStart")&&(calendarLabels=document.querySelectorAll(".blocking-form__label"),(calendarLabelsArray=Array.prototype.slice.call(calendarLabels)).forEach(function(n){n.addEventListener("click",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),n.addEventListener("click",function(){t.classList.remove("js--hidden")});var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),calendarInputs=document.querySelectorAll(".blocking-form__input"),(calendarInputsArray=Array.prototype.slice.call(calendarInputs)).forEach(function(e){e.addEventListener("focus",function(){console.log("entered");var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),t.classList.remove("js--hidden");var e=document.querySelector(".ui-datepicker").querySelectorAll("td");Array.prototype.slice.call(e).forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),$(function(){$.datepicker.regional.ru={closeText:"Закрыть",prevText:"",nextText:"",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru);$("#blockingInputStart").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru).on("change",function(){$("#blockingInputFinish").datepicker("option","minDate",function(e){var t;try{t=$.datepicker.parseDate("dd.mm.yy",e.value)}catch(e){t=null,console.log(t)}return t}(this))}),$("#blockingInputFinish").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru)})),document.querySelector(".header-section--mobile")&&(console.log(window.innerWidth),console.log(window.getWindowSize()[0]),window.innerWidth<=1200||window.getWindowSize()[0]<=1200?(main=document.querySelector("main")).style.marginTop="50px":document.querySelector(".header-section--mobile").classList.add("js--hidden")),document.getElementById("openMenu")&&(mobileButtonOpen=document.getElementById("openMenu"),mobileButtonSearch=document.getElementById("labelOpenMenu"),searchInput=document.getElementById("inputSearchFieldMobile"),mobileButtonClose=document.getElementById("closeMenu"),navigationMenu=document.querySelector(".navigation-section--mobile"),mobileButtonOpen.addEventListener("click",function(){mobileButtonClose.classList.add("menu-open--opened"),navigationMenu.classList.toggle("js--transformed")}),mobileButtonClose.addEventListener("click",function(){navigationMenu.classList.toggle("js--transformed")}),mobileButtonSearch.addEventListener("click",function(){navigationMenu.classList.toggle("js--transformed"),searchInput.focus()}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJyZWNvdmVyX2J1dHRvbiIsImNvbmZpcm1fYnV0dG9uIiwiYXBwbHlfZm9ybSIsInJlY292ZXJfZm9ybSIsInJldHVybl9mb3JtIiwiYWxsTGluayIsImN1cnJlbnRMb2NhdGlvbiIsImFsbHRhYmxlQXJyYXkiLCJzZWxlY3RJbnB1dEZpZWxkIiwic2VsZWN0SW5wdXRMYWJlbCIsImFsbE9wdGlvbnNBcnJheSIsImFsbE9wdGlvbnNBcnJheU1vZCIsInNlbGVjdE1vZGFsV2luZG93Iiwic2lkZWJhclNlYXJjaEZvcm0iLCJzaWRlYmFyU2VhcmNoSW5wdXQiLCJzZWFyY2hGaWVsZFJlc3VsdCIsInNlYXJjaFJlc3VsdCIsImNhbGVuZGFyTGFiZWxzIiwiY2FsZW5kYXJMYWJlbHNBcnJheSIsImNhbGVuZGFySW5wdXRzIiwiY2FsZW5kYXJJbnB1dHNBcnJheSIsIm1haW4iLCJtb2JpbGVCdXR0b25PcGVuIiwibW9iaWxlQnV0dG9uU2VhcmNoIiwic2VhcmNoSW5wdXQiLCJtb2JpbGVCdXR0b25DbG9zZSIsIm5hdmlnYXRpb25NZW51IiwiZGlzcGxheVNlbGVjdFZhbHVlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImZvckVhY2giLCJlbGVtZW50IiwiY2hlY2tlZFZhbHVlIiwiZ2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSIsInVuY2hlY2tFdmVyeVNwYW4iLCJuZXdFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwidGhpcyIsIlR5cGVFcnJvciIsIlQiLCJrIiwia1ZhbHVlIiwiTyIsIk9iamVjdCIsImxlbiIsImxlbmd0aCIsImFyZ3VtZW50cyIsIndpbmRvdyIsImdldFdpbmRvd1NpemUiLCJ1bmRlZmluZWQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJkb2NCb2R5IiwiYm9keSIsImRvY0VsZSIsImRvY3VtZW50RWxlbWVudCIsIk1hdGgiLCJtYXgiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIlN0cmluZyIsImluY2x1ZGVzIiwic2VhcmNoIiwic3RhcnQiLCJSZWdFeHAiLCJpbmRleE9mIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibG9jYXRpb24iLCJocmVmIiwiZm9ybWF0ZWRMaW5rIiwicmVwbGFjZSIsImFkZCIsInJlbW92ZSIsInNlYXJjaFZhbHVlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwibGF5ZXIiLCJhbGxMaW5rcyIsImVsZW0iLCJjb250YWlucyIsIiQiLCJkYXRlcGlja2VyIiwicmVnaW9uYWwiLCJjbG9zZVRleHQiLCJwcmV2VGV4dCIsIm5leHRUZXh0IiwiY3VycmVudFRleHQiLCJtb250aE5hbWVzIiwibW9udGhOYW1lc1Nob3J0IiwiZGF5TmFtZXMiLCJkYXlOYW1lc1Nob3J0IiwiZGF5TmFtZXNNaW4iLCJ3ZWVrSGVhZGVyIiwiZGF0ZUZvcm1hdCIsImZpcnN0RGF5IiwiaXNSVEwiLCJzaG93TW9udGhBZnRlclllYXIiLCJ5ZWFyU3VmZml4Iiwic2V0RGVmYXVsdHMiLCJpbmxpbmUiLCJjaGFuZ2VZZWFyIiwiZ290b0N1cnJlbnQiLCJtaW5EYXRlIiwic2hvd0FuaW0iLCJudW1iZXJPZk1vbnRocyIsIm9uIiwiZGF0ZSIsInBhcnNlRGF0ZSIsImVycm9yIiwiZ2V0RGF0ZSIsInN0eWxlIiwibWFyZ2luVG9wIiwiZm9jdXMiXSwibWFwcGluZ3MiOiJhQXlGQSxJQUNBQSxlQU9BQyxlQU9BQyxXQU9BQyxhQU1BQyxZQUlBQyxRQUNBQyxnQkFDQUMsY0FjQUMsaUJBQ0FDLGlCQUNBQyxnQkFDQUMsbUJBQ0FDLGtCQThDQUMsa0JBQ0FDLG1CQVlBQyxrQkFDQUMsYUE2SkFDLGVBQ0FDLG9CQXNCQUMsZUFDQUMsb0JBNkhBQyxLQVNBQyxpQkFDQUMsbUJBQ0FDLFlBQ0FDLGtCQUNBQyxlQXBXQSxTQUFBQyxxQkFDQSxJQUFBbkIsRUFBQW9CLFNBQUFDLGVBQUEsY0FDQW5CLEVBQUFrQixTQUFBRSxpQkFBQSxzQkFDQUMsTUFBQUMsVUFBQUMsTUFBQUMsS0FBQXhCLEdBQ0F5QixRQUFBLFNBQUFDLEdBQ0EsSUFFQUMsRUFEQSxXQURBRCxFQUFBRSxhQUFBLGtCQUVBRCxFQUFBRCxFQUFBRyxZQUNBL0IsRUFBQWdDLE1BQUFILEtBS0EsU0FBQUksbUJBQ0EsSUFBQS9CLEVBQUFrQixTQUFBRSxpQkFBQSxzQkFDQUMsTUFBQUMsVUFBQUMsTUFBQUMsS0FBQXhCLEdBQ0F5QixRQUFBLFNBQUFPLEdBQ0FBLEVBQUFDLGFBQUEsZUFBQSxlQWpMQVosTUFBQUMsVUFBQSxVQUNBRCxNQUFBQyxVQUFBRyxRQUFBLFNBQUFTLEVBQUFDLEdBQ0EsR0FBQSxNQUFBQyxLQUNBLE1BQUEsSUFBQUMsVUFDQSx1REFJQSxJQUFBQyxFQUFBQyxFQTJCQUMsRUF4QkFDLEVBQUFDLE9BQUFOLE1BS0FPLEVBQUFGLEVBQUFHLFNBQUEsRUFJQSxHQUFBLG1CQUFBVixFQUNBLE1BQUEsSUFBQUcsVUFBQUgsRUFBQSxzQkFhQSxJQVJBLEVBQUFXLFVBQUFELFNBQ0FOLEVBQUFILEdBSUFJLEVBQUEsRUFHQUEsRUFBQUksR0FBQSxDQVNBSixLQUFBRSxJQUdBRCxFQUFBQyxFQUFBRixHQUlBTCxFQUFBVixLQUFBYyxFQUFBRSxFQUFBRCxFQUFBRSxJQUdBRixPQU1BTyxPQUFBQyxjQUFBLFdBQ0EsR0FBQUMsTUFBQUYsT0FBQUcsV0FDQSxNQUFBLENBQUFILE9BQUFHLFdBQUFILE9BQUFJLGFBRUEsSUFBQUMsRUFBQWpDLFNBQUFrQyxLQUNBQyxFQUFBbkMsU0FBQW9DLGdCQUNBLE1BQUEsQ0FDQUMsS0FBQUMsSUFBQUgsRUFBQUksWUFBQU4sRUFBQU0sYUFDQUYsS0FBQUMsSUFBQUgsRUFBQUssYUFBQVAsRUFBQU8sZ0JBS0FDLE9BQUFyQyxVQUFBc0MsV0FDQUQsT0FBQXJDLFVBQUFzQyxTQUFBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUQsYUFBQUUsT0FDQSxNQUFBMUIsVUFBQSx1Q0FLQSxZQUhBVyxJQUFBYyxJQUNBQSxFQUFBLElBRUEsSUFBQTFCLEtBQUE0QixRQUFBSCxFQUFBQyxLQUdBNUMsU0FBQStDLGNBQUEseUJBQ0EzRSxlQUFBNEIsU0FBQStDLGNBQUEsd0JBQ0FDLGlCQUFBLFFBQUEsV0FDQTFFLFdBQUEyRSxVQUFBQyxPQUFBLGNBQ0EzRSxhQUFBMEUsVUFBQUMsT0FBQSxnQkFHQWxELFNBQUErQyxjQUFBLDBCQUNBMUUsZUFBQTJCLFNBQUErQyxjQUFBLHlCQUNBQyxpQkFBQSxRQUFBLFdBQ0F6RSxhQUFBMEUsVUFBQUMsT0FBQSxjQUNBMUUsWUFBQXlFLFVBQUFDLE9BQUEsZ0JBR0FsRCxTQUFBK0MsY0FBQSx5QkFDQXpFLFdBQUEwQixTQUFBK0MsY0FBQSx3QkFFQUMsaUJBQUEsU0FBQSxTQUFBRyxHQUNBQSxFQUFBQyxtQkFHQXBELFNBQUErQyxjQUFBLHlCQUNBeEUsYUFBQXlCLFNBQUErQyxjQUFBLHdCQUNBQyxpQkFBQSxTQUFBLFNBQUFHLEdBQ0FBLEVBQUFDLG1CQUdBcEQsU0FBQStDLGNBQUEsd0JBQ0F2RSxZQUFBd0IsU0FBQStDLGNBQUEsdUJBR0EvQyxTQUFBRSxpQkFBQSxpQ0FDQXpCLFFBQUF1QixTQUFBRSxpQkFBQSwrQkFDQXhCLGdCQUFBa0QsT0FBQXlCLFNBQUFDLE1BQ0EzRSxjQUFBd0IsTUFBQUMsVUFBQUMsTUFBQUMsS0FBQTdCLFVBQ0E4QixRQUFBLFNBQUFDLEdBQ0EsSUFDQStDLEVBREEvQyxFQUFBRSxhQUFBLFFBQ0E4QyxRQUFBLEtBQUEsSUFDQTlFLGdCQUFBZ0UsU0FBQWEsSUFDQS9DLEVBQUF5QyxVQUFBUSxJQUFBLG9CQVFBekQsU0FBQUMsZUFBQSxnQkFDQXJCLGlCQUFBb0IsU0FBQUMsZUFBQSxjQUNBcEIsaUJBQUFtQixTQUFBK0MsY0FBQSxxQkFDQWpFLGdCQUFBa0IsU0FBQUUsaUJBQUEsc0JBQ0FuQixtQkFBQW9CLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUF4QixpQkFDQUUsa0JBQUFnQixTQUFBQyxlQUFBLGFBQ0FGLHFCQUVBaEIsbUJBQUF3QixRQUFBLFNBQUFDLEdBQ0FBLEVBQUF3QyxpQkFBQSxRQUFBLFdBQ0FuQyxtQkFDQUwsRUFBQU8sYUFBQSxlQUFBLFdBQ0FoQixxQkFDQWYsa0JBQUFpRSxVQUFBUyxPQUFBLGNBQ0E3RSxpQkFBQW9FLFVBQUFDLE9BQUEsd0JBR0F0RSxpQkFBQW9FLGlCQUFBLFFBQUEsV0FDQW5FLGlCQUFBb0UsVUFBQUMsT0FBQSxvQkFDQWxFLGtCQUFBaUUsVUFBQUMsT0FBQSxnQkFHQWxFLGtCQUFBZ0UsaUJBQUEsYUFBQSxXQUNBbkUsaUJBQUFvRSxVQUFBQyxPQUFBLG9CQUNBbEUsa0JBQUFpRSxVQUFBUSxJQUFBLGlCQTBCQXpELFNBQUErQyxjQUFBLDRCQUNBOUQsa0JBQUFlLFNBQUErQyxjQUFBLHlCQUNBN0QsbUJBQUFjLFNBQUErQyxjQUNBLGdDQUVBOUQsa0JBQUErRCxpQkFBQSxTQUFBLFNBQUFHLEdBQ0EsSUFBQVEsRUFBQXpFLG1CQUFBMEIsTUFDQWdELGFBQUFDLFFBQUEsZUFBQUYsTUFNQTNELFNBQUFDLGVBQUEsaUJBQ0FkLGtCQUFBYSxTQUFBQyxlQUFBLGVBQ0FiLGFBQUF3RSxhQUFBRSxRQUFBLGdCQUNBQyxRQUFBQyxJQUFBSixhQUFBRSxRQUFBLGlCQUNBM0Usa0JBQUF5QixNQUFBeEIsYUFDQSxVQUFBRCxrQkFBQXlCLFFBQ0FaLFNBQUFDLGVBQUEsY0FBQWdELFVBQUFTLE9BQUEsY0FDQTFELFNBQUFDLGVBQUEsZUFBQWdELFVBQUFRLElBQUEsZ0JBSUF6RCxTQUFBQyxlQUFBLG9CQUVBWixlQUFBVyxTQUFBRSxpQkFBQSx1QkFDQVosb0JBQUFhLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUFqQixpQkFDQWtCLFFBQUEsU0FBQUMsR0FDQUEsRUFBQXdDLGlCQUFBLFFBQUEsV0FDQSxJQUFBaUIsRUFBQWpFLFNBQUErQyxjQUFBLG1CQUNBa0IsRUFBQWpCLGlCQUFBLFFBQUEsV0FDQWlCLEVBQUFoQixVQUFBUSxJQUFBLGdCQUVBakQsRUFBQXdDLGlCQUFBLFFBQUEsV0FDQWlCLEVBQUFoQixVQUFBUyxPQUFBLGdCQUVBLElBQ0FRLEVBREFsRSxTQUFBK0MsY0FBQSxrQkFDQTdDLGlCQUFBLE1BQ0FDLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUE0RCxHQUNBM0QsUUFBQSxTQUFBNEQsR0FDQUEsRUFBQWxCLFVBQUFtQixTQUFBLCtCQUNBRCxFQUFBbkIsaUJBQUEsUUFBQSxXQUNBaUIsRUFBQWhCLFVBQUFRLElBQUEsc0JBTUFsRSxlQUFBUyxTQUFBRSxpQkFBQSw2QkFDQVYsb0JBQUFXLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUFmLGlCQUNBZ0IsUUFBQSxTQUFBQyxHQUNBQSxFQUFBd0MsaUJBQUEsYUFBQSxXQUNBLElBQUFpQixFQUFBakUsU0FBQStDLGNBQUEsbUJBQ0FrQixFQUFBakIsaUJBQUEsUUFBQSxXQUNBaUIsRUFBQWhCLFVBQUFRLElBQUEsZ0JBRUFqRCxFQUFBd0MsaUJBQUEsUUFBQSxXQUNBaUIsRUFBQWhCLFVBQUFTLE9BQUEsZ0JBRUEsSUFDQVEsRUFEQWxFLFNBQUErQyxjQUFBLGtCQUNBN0MsaUJBQUEsTUFDQUMsTUFBQUMsVUFBQUMsTUFBQUMsS0FBQTRELEdBQ0EzRCxRQUFBLFNBQUE0RCxHQUNBQSxFQUFBbEIsVUFBQW1CLFNBQUEsK0JBQ0FELEVBQUFuQixpQkFBQSxRQUFBLFdBQ0FpQixFQUFBaEIsVUFBQVEsSUFBQSxzQkFRQVksRUFBQSxXQUNBQSxFQUFBQyxXQUFBQyxTQUFBLEdBQUEsQ0FDQUMsVUFBQSxVQUNBQyxTQUFBLEdBQ0FDLFNBQUEsR0FDQUMsWUFBQSxVQUNBQyxXQUFBLENBQ0EsU0FDQSxVQUNBLE9BQ0EsU0FDQSxNQUNBLE9BQ0EsT0FDQSxTQUNBLFdBQ0EsVUFDQSxTQUNBLFdBRUFDLGdCQUFBLENBQ0EsU0FDQSxVQUNBLE9BQ0EsU0FDQSxNQUNBLE9BQ0EsT0FDQSxTQUNBLFdBQ0EsVUFDQSxTQUNBLFdBRUFDLFNBQUEsQ0FDQSxjQUNBLGNBQ0EsVUFDQSxRQUNBLFVBQ0EsVUFDQSxXQUVBQyxjQUFBLENBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FDQUMsWUFBQSxDQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLE1BQ0FDLFdBQUEsTUFDQUMsV0FBQSxXQUNBQyxTQUFBLEVBQ0FDLE9BQUEsRUFDQUMsb0JBQUEsRUFDQUMsV0FBQSxJQUVBakIsRUFBQUMsV0FBQWlCLFlBQUFsQixFQUFBQyxXQUFBQyxTQUFBLElBRUFGLEVBQUEsbUJBQ0FDLFdBQUEsQ0FDQWtCLFFBQUEsRUFDQUMsWUFBQSxFQUNBQyxhQUFBLEVBQ0FSLFdBQUEsV0FDQVMsUUFBQSxFQUNBQyxTQUFBLFlBQ0FDLGVBQUEsR0FFQXhCLEVBQUFDLFdBQUFDLFNBQUEsSUFFQXVCLEdBQUEsU0FBQSxXQUNBekIsRUFBQSxvQkFBQUMsV0FBQSxTQUFBLFVBY0EsU0FBQTlELEdBQ0EsSUFBQXVGLEVBQ0EsSUFDQUEsRUFBQTFCLEVBQUFDLFdBQUEwQixVQS9CQSxXQStCQXhGLEVBQUFJLE9BQ0EsTUFBQXFGLEdBQ0FGLEVBQUEsS0FDQWhDLFFBQUFDLElBQUErQixHQUdBLE9BQUFBLEVBdkJBRyxDQUFBaEYsU0FFQW1ELEVBQUEsb0JBQUFDLFdBQUEsQ0FDQWtCLFFBQUEsRUFDQUMsWUFBQSxFQUNBQyxhQUFBLEVBQ0FSLFdBQUEsV0FDQVMsUUFBQSxFQUNBQyxTQUFBLFlBQ0FDLGVBQUEsR0FFQXhCLEVBQUFDLFdBQUFDLFNBQUEsT0FrQkF2RSxTQUFBQyxlQUFBLHdCQUVBWixlQUFBVyxTQUFBRSxpQkFBQSwwQkFDQVosb0JBQUFhLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUFqQixpQkFDQWtCLFFBQUEsU0FBQUMsR0FDQUEsRUFBQXdDLGlCQUFBLFFBQUEsV0FDQSxJQUFBaUIsRUFBQWpFLFNBQUErQyxjQUFBLG1CQUNBa0IsRUFBQWpCLGlCQUFBLFFBQUEsV0FDQWlCLEVBQUFoQixVQUFBUSxJQUFBLGdCQUVBakQsRUFBQXdDLGlCQUFBLFFBQUEsV0FDQWlCLEVBQUFoQixVQUFBUyxPQUFBLGdCQUVBLElBQ0FRLEVBREFsRSxTQUFBK0MsY0FBQSxrQkFDQTdDLGlCQUFBLE1BQ0FDLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUE0RCxHQUNBM0QsUUFBQSxTQUFBNEQsR0FDQUEsRUFBQWxCLFVBQUFtQixTQUFBLCtCQUNBRCxFQUFBbkIsaUJBQUEsUUFBQSxXQUNBaUIsRUFBQWhCLFVBQUFRLElBQUEsc0JBTUFsRSxlQUFBUyxTQUFBRSxpQkFBQSwwQkFDQVYsb0JBQUFXLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUFmLGlCQUNBZ0IsUUFBQSxTQUFBQyxHQUNBQSxFQUFBd0MsaUJBQUEsUUFBQSxXQUNBZSxRQUFBQyxJQUFBLFdBQ0EsSUFBQUMsRUFBQWpFLFNBQUErQyxjQUFBLG1CQUNBa0IsRUFBQWpCLGlCQUFBLFFBQUEsV0FDQWlCLEVBQUFoQixVQUFBUSxJQUFBLGdCQUVBUSxFQUFBaEIsVUFBQVMsT0FBQSxjQUNBLElBQ0FRLEVBREFsRSxTQUFBK0MsY0FBQSxrQkFDQTdDLGlCQUFBLE1BQ0FDLE1BQUFDLFVBQUFDLE1BQUFDLEtBQUE0RCxHQUNBM0QsUUFBQSxTQUFBNEQsR0FDQUEsRUFBQWxCLFVBQUFtQixTQUFBLCtCQUNBRCxFQUFBbkIsaUJBQUEsUUFBQSxXQUNBaUIsRUFBQWhCLFVBQUFRLElBQUEsc0JBUUFZLEVBQUEsV0FDQUEsRUFBQUMsV0FBQUMsU0FBQSxHQUFBLENBQ0FDLFVBQUEsVUFDQUMsU0FBQSxHQUNBQyxTQUFBLEdBQ0FDLFlBQUEsVUFDQUMsV0FBQSxDQUNBLFNBQ0EsVUFDQSxPQUNBLFNBQ0EsTUFDQSxPQUNBLE9BQ0EsU0FDQSxXQUNBLFVBQ0EsU0FDQSxXQUVBQyxnQkFBQSxDQUNBLFNBQ0EsVUFDQSxPQUNBLFNBQ0EsTUFDQSxPQUNBLE9BQ0EsU0FDQSxXQUNBLFVBQ0EsU0FDQSxXQUVBQyxTQUFBLENBQ0EsY0FDQSxjQUNBLFVBQ0EsUUFDQSxVQUNBLFVBQ0EsV0FFQUMsY0FBQSxDQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQ0FDLFlBQUEsQ0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxNQUNBQyxXQUFBLE1BQ0FDLFdBQUEsV0FDQUMsU0FBQSxFQUNBQyxPQUFBLEVBQ0FDLG9CQUFBLEVBQ0FDLFdBQUEsSUFFQWpCLEVBQUFDLFdBQUFpQixZQUFBbEIsRUFBQUMsV0FBQUMsU0FBQSxJQUVBRixFQUFBLHVCQUNBQyxXQUFBLENBQ0FrQixRQUFBLEVBQ0FDLFlBQUEsRUFDQUMsYUFBQSxFQUNBUixXQUFBLFdBQ0FTLFFBQUEsRUFDQUMsU0FBQSxZQUNBQyxlQUFBLEdBRUF4QixFQUFBQyxXQUFBQyxTQUFBLElBRUF1QixHQUFBLFNBQUEsV0FDQXpCLEVBQUEsd0JBQUFDLFdBQ0EsU0FDQSxVQWdCQSxTQUFBOUQsR0FDQSxJQUFBdUYsRUFDQSxJQUNBQSxFQUFBMUIsRUFBQUMsV0FBQTBCLFVBbkNBLFdBbUNBeEYsRUFBQUksT0FDQSxNQUFBcUYsR0FDQUYsRUFBQSxLQUNBaEMsUUFBQUMsSUFBQStCLEdBR0EsT0FBQUEsRUF4QkFHLENBQUFoRixTQUdBbUQsRUFBQSx3QkFBQUMsV0FBQSxDQUNBa0IsUUFBQSxFQUNBQyxZQUFBLEVBQ0FDLGFBQUEsRUFDQVIsV0FBQSxXQUNBUyxRQUFBLEVBQ0FDLFNBQUEsWUFDQUMsZUFBQSxHQUVBeEIsRUFBQUMsV0FBQUMsU0FBQSxPQWdCQXZFLFNBQUErQyxjQUFBLDZCQUNBZ0IsUUFBQUMsSUFBQXBDLE9BQUFHLFlBQ0FnQyxRQUFBQyxJQUFBcEMsT0FBQUMsZ0JBQUEsSUFDQUQsT0FBQUcsWUFBQSxNQUFBSCxPQUFBQyxnQkFBQSxJQUFBLE1BQ0FwQyxLQUFBTyxTQUFBK0MsY0FBQSxTQUNBb0QsTUFBQUMsVUFBQSxPQUVBcEcsU0FDQStDLGNBQUEsMkJBQ0FFLFVBQUFRLElBQUEsZUFHQXpELFNBQUFDLGVBQUEsY0FDQVAsaUJBQUFNLFNBQUFDLGVBQUEsWUFDQU4sbUJBQUFLLFNBQUFDLGVBQUEsaUJBQ0FMLFlBQUFJLFNBQUFDLGVBQUEsMEJBQ0FKLGtCQUFBRyxTQUFBQyxlQUFBLGFBQ0FILGVBQUFFLFNBQUErQyxjQUFBLCtCQUNBckQsaUJBQUFzRCxpQkFBQSxRQUFBLFdBQ0FuRCxrQkFBQW9ELFVBQUFRLElBQUEscUJBQ0EzRCxlQUFBbUQsVUFBQUMsT0FBQSxxQkFFQXJELGtCQUFBbUQsaUJBQUEsUUFBQSxXQUNBbEQsZUFBQW1ELFVBQUFDLE9BQUEscUJBRUF2RCxtQkFBQXFELGlCQUFBLFFBQUEsV0FDQWxELGVBQUFtRCxVQUFBQyxPQUFBLG1CQUNBdEQsWUFBQXlHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPOiDQn9C+0LvQuNGE0LjQuyDQtNC70Y8g0LLRgdC10YUgRVM2INGE0YPQvdC60YbQuNC5IEpTXG4vLyBQcm9kdWN0aW9uIHN0ZXBzIG9mIEVDTUEtMjYyLCBFZGl0aW9uIDUsIDE1LjQuNC4xOFxuLy8gUmVmZXJlbmNlOiBodHRwczovL2VzNS5naXRodWIuaW8vI3gxNS40LjQuMThcbi8vINCf0L7Qu9C40YTQuNC70LsgZm9yZWNoXG5pZiAoIUFycmF5LnByb3RvdHlwZVtcImZvckVhY2hcIl0pIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBcnJheS5wcm90b3R5cGUuZm9yRWFjaCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBULCBrO1xuICAgICAgICAvLyAxLiBMZXQgTyBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdG9PYmplY3QoKSBwYXNzaW5nIHRoZVxuICAgICAgICAvLyB8dGhpc3wgdmFsdWUgYXMgdGhlIGFyZ3VtZW50LlxuICAgICAgICB2YXIgTyA9IE9iamVjdCh0aGlzKTtcblxuICAgICAgICAvLyAyLiBMZXQgbGVuVmFsdWUgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBHZXQoKSBpbnRlcm5hbFxuICAgICAgICAvLyBtZXRob2Qgb2YgTyB3aXRoIHRoZSBhcmd1bWVudCBcImxlbmd0aFwiLlxuICAgICAgICAvLyAzLiBMZXQgbGVuIGJlIHRvVWludDMyKGxlblZhbHVlKS5cbiAgICAgICAgdmFyIGxlbiA9IE8ubGVuZ3RoID4+PiAwO1xuXG4gICAgICAgIC8vIDQuIElmIGlzQ2FsbGFibGUoY2FsbGJhY2spIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OS4xMVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2sgKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDUuIElmIHRoaXNBcmcgd2FzIHN1cHBsaWVkLCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldFxuICAgICAgICAvLyBUIGJlIHVuZGVmaW5lZC5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBUID0gdGhpc0FyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDYuIExldCBrIGJlIDBcbiAgICAgICAgayA9IDA7XG5cbiAgICAgICAgLy8gNy4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG4gICAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgICAgICB2YXIga1ZhbHVlO1xuXG4gICAgICAgICAgICAvLyBhLiBMZXQgUGsgYmUgVG9TdHJpbmcoaykuXG4gICAgICAgICAgICAvLyAgICBUaGlzIGlzIGltcGxpY2l0IGZvciBMSFMgb3BlcmFuZHMgb2YgdGhlIGluIG9wZXJhdG9yXG4gICAgICAgICAgICAvLyBiLiBMZXQga1ByZXNlbnQgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBIYXNQcm9wZXJ0eVxuICAgICAgICAgICAgLy8gICAgaW50ZXJuYWwgbWV0aG9kIG9mIE8gd2l0aCBhcmd1bWVudCBQay5cbiAgICAgICAgICAgIC8vICAgIFRoaXMgc3RlcCBjYW4gYmUgY29tYmluZWQgd2l0aCBjXG4gICAgICAgICAgICAvLyBjLiBJZiBrUHJlc2VudCBpcyB0cnVlLCB0aGVuXG4gICAgICAgICAgICBpZiAoayBpbiBPKSB7XG4gICAgICAgICAgICAgICAgLy8gaS4gTGV0IGtWYWx1ZSBiZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhlIEdldCBpbnRlcm5hbFxuICAgICAgICAgICAgICAgIC8vIG1ldGhvZCBvZiBPIHdpdGggYXJndW1lbnQgUGsuXG4gICAgICAgICAgICAgICAga1ZhbHVlID0gT1trXTtcblxuICAgICAgICAgICAgICAgIC8vIGlpLiBDYWxsIHRoZSBDYWxsIGludGVybmFsIG1ldGhvZCBvZiBjYWxsYmFjayB3aXRoIFQgYXNcbiAgICAgICAgICAgICAgICAvLyB0aGUgdGhpcyB2YWx1ZSBhbmQgYXJndW1lbnQgbGlzdCBjb250YWluaW5nIGtWYWx1ZSwgaywgYW5kIE8uXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChULCBrVmFsdWUsIGssIE8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZC4gSW5jcmVhc2UgayBieSAxLlxuICAgICAgICAgICAgaysrO1xuICAgICAgICB9XG4gICAgICAgIC8vIDguIHJldHVybiB1bmRlZmluZWRcbiAgICB9O1xufVxuLy8g0J/QvtC70LjRhNC40LvQuyBpbm5lcldpZHRoXG53aW5kb3cuZ2V0V2luZG93U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0XTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZG9jQm9keSA9IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICBkb2NFbGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBNYXRoLm1heChkb2NFbGUuY2xpZW50V2lkdGgsIGRvY0JvZHkuY2xpZW50V2lkdGgpLFxuICAgICAgICAgICAgTWF0aC5tYXgoZG9jRWxlLmNsaWVudEhlaWdodCwgZG9jQm9keS5jbGllbnRIZWlnaHQpLFxuICAgICAgICBdO1xuICAgIH1cbn07XG4vLyDQn9C+0LvQuNGE0LjQu9C7IEluY2x1ZGVzXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oc2VhcmNoLCBzdGFydCkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgICAgICBpZiAoc2VhcmNoIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJmaXJzdCBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIFJlZ0V4cFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICAgIH07XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX3JlY292ZXJcIikpIHtcbiAgICB2YXIgcmVjb3Zlcl9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fcmVjb3ZlclwiKTtcbiAgICByZWNvdmVyX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBhcHBseV9mb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICByZWNvdmVyX2Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2NvbnRpbnVlXCIpKSB7XG4gICAgdmFyIGNvbmZpcm1fYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2NvbnRpbnVlXCIpO1xuICAgIGNvbmZpcm1fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHJlY292ZXJfZm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgcmV0dXJuX2Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWFwcGx5LXJlY292ZXJcIikpIHtcbiAgICB2YXIgYXBwbHlfZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1hcHBseS1yZWNvdmVyXCIpO1xuXG4gICAgYXBwbHlfZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZWNvdmVyLWNoZWNrXCIpKSB7XG4gICAgdmFyIHJlY292ZXJfZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZWNvdmVyLWNoZWNrXCIpO1xuICAgIHJlY292ZXJfZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZXR1cm4tbG9naW5cIikpIHtcbiAgICB2YXIgcmV0dXJuX2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tcmV0dXJuLWxvZ2luXCIpO1xufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLW1lbnVfX2l0ZW0tbGlua1wiKSkge1xuICAgIHZhciBhbGxMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLW1lbnVfX2l0ZW0tbGlua1wiKTtcbiAgICB2YXIgY3VycmVudExvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgdmFyIGFsbHRhYmxlQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhbGxMaW5rKTtcbiAgICBhbGx0YWJsZUFycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgdmFyIGxpbmsgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgIHZhciBmb3JtYXRlZExpbmsgPSBsaW5rLnJlcGxhY2UoXCIuL1wiLCBcIlwiKTtcbiAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbi5pbmNsdWRlcyhmb3JtYXRlZExpbmspKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpdGVtLS1jaGVja2VkXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vINCe0L/QtdGA0LDRhtC40Lgg0YEg0YLQsNGA0LjRhNCw0LzQuFxuXG4vLyDQodC90LDRh9Cw0LvQsCDQv9C+0LvRg9GH0LjQvCDQuCDQstGL0LLQtdC00LXQvCDQt9C90LDRh9C10L3QuNC1INC+0YLQvNC10YfQtdC90L3QvtCz0L4gb3B0aW9uXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYXRlU2VsZWN0XCIpKSB7XG4gICAgdmFyIHNlbGVjdElucHV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVTZWxlY3RcIik7XG4gICAgdmFyIHNlbGVjdElucHV0TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGUtZm9ybV9fbGFiZWxcIik7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZS1mb3JtX19vcHRpb25cIik7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheU1vZCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFsbE9wdGlvbnNBcnJheSk7XG4gICAgdmFyIHNlbGVjdE1vZGFsV2luZG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYXRlTW9kYWxcIik7XG4gICAgZGlzcGxheVNlbGVjdFZhbHVlKCk7XG4gICAgLy8g0J/QviDQutC70LjQutGDINC80LXQvdGP0LXQvCDQt9C90LDRh9C10L3QuNC1IGRhdGEtY2hlY2tlZFxuICAgIGFsbE9wdGlvbnNBcnJheU1vZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHVuY2hlY2tFdmVyeVNwYW4oKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgIGRpc3BsYXlTZWxlY3RWYWx1ZSgpO1xuICAgICAgICAgICAgc2VsZWN0TW9kYWxXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICBzZWxlY3RJbnB1dExhYmVsLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0tcm90YXRlLWFycm93XCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBzZWxlY3RJbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHNlbGVjdElucHV0TGFiZWwuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1yb3RhdGUtYXJyb3dcIik7XG4gICAgICAgIHNlbGVjdE1vZGFsV2luZG93LmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICAgIH0pO1xuXG4gICAgc2VsZWN0TW9kYWxXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICBzZWxlY3RJbnB1dExhYmVsLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0tcm90YXRlLWFycm93XCIpO1xuICAgICAgICBzZWxlY3RNb2RhbFdpbmRvdy5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbn1cbi8vINCf0LXRgNC10LTQsNGH0LAgZGF0YS1jaGVja2VkINC30L3QsNGH0LXQvdC40Y8g0LIg0L/QvtC70LUgU2VsZWN0XG5mdW5jdGlvbiBkaXNwbGF5U2VsZWN0VmFsdWUoKSB7XG4gICAgdmFyIHNlbGVjdElucHV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVTZWxlY3RcIik7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZS1mb3JtX19vcHRpb25cIik7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheU1vZCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFsbE9wdGlvbnNBcnJheSk7XG4gICAgYWxsT3B0aW9uc0FycmF5TW9kLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgdmFyIGNoZWNrZWRCb29sID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIik7XG4gICAgICAgIGlmIChjaGVja2VkQm9vbCA9PSBcImNoZWNrZWRcIikge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBzZWxlY3RJbnB1dEZpZWxkLnZhbHVlID0gY2hlY2tlZFZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHVuY2hlY2tFdmVyeVNwYW4oKSB7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmF0ZS1mb3JtX19vcHRpb25cIik7XG4gICAgdmFyIGFsbE9wdGlvbnNBcnJheU1vZCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFsbE9wdGlvbnNBcnJheSk7XG4gICAgYWxsT3B0aW9uc0FycmF5TW9kLmZvckVhY2goKG5ld0VsZW1lbnQpID0+IHtcbiAgICAgICAgbmV3RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJ1bmNoZWNrZWRcIik7XG4gICAgfSk7XG59XG5cbi8vINCe0LHRgNCw0LHQvtGC0LrQsCDRhNC+0YDQvNGLINC/0L7QuNGB0LrQsCDQsiDQsdC+0LrQvtCy0L7QvCDQvNC10L3RjlxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLXNlY3Rpb24tLWZvcm0gXCIpKSB7XG4gICAgdmFyIHNpZGViYXJTZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtc2VjdGlvbi0tZm9ybVwiKTtcbiAgICB2YXIgc2lkZWJhclNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgXCIuaW5wdXQtc2VjdGlvbl9fc2VhcmNoLWlucHV0XCJcbiAgICApO1xuICAgIHNpZGViYXJTZWFyY2hGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBzZWFyY2hWYWx1ZSA9IHNpZGViYXJTZWFyY2hJbnB1dC52YWx1ZTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzZWFyY2hSZXN1bHRcIiwgc2VhcmNoVmFsdWUpO1xuICAgIH0pO1xufVxuXG4vLyDQoNC10LfRg9C70YzRgtCw0YLRiyDQv9C+0LjRgdC60LBcblxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoRmllbGRcIikpIHtcbiAgICB2YXIgc2VhcmNoRmllbGRSZXN1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaEZpZWxkXCIpO1xuICAgIHZhciBzZWFyY2hSZXN1bHQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNlYXJjaFJlc3VsdFwiKTtcbiAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNlYXJjaFJlc3VsdFwiKSk7XG4gICAgc2VhcmNoRmllbGRSZXN1bHQudmFsdWUgPSBzZWFyY2hSZXN1bHQ7XG4gICAgaWYgKHNlYXJjaEZpZWxkUmVzdWx0LnZhbHVlID09IFwi0J/Qu9Cw0YLQtdC2XCIpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmdWxsUmVzdWx0XCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtcHR5UmVzdWx0XCIpLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgIH1cbn1cbi8vINCa0LDQu9C10L3QtNCw0YDRjCDQtNC70Y8g0YHQvtGA0YLQuNGA0L7QstC60Lgg0L/QviDQv9C70LDRgtC10LbQsNC8XG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXlzSW5wdXRTdGFydFwiKSkge1xuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC/0L7QtNC70L7QttC60LhcbiAgICB2YXIgY2FsZW5kYXJMYWJlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0YXRzLWZvcm1fX2xhYmVsXCIpO1xuICAgIHZhciBjYWxlbmRhckxhYmVsc0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY2FsZW5kYXJMYWJlbHMpO1xuICAgIGNhbGVuZGFyTGFiZWxzQXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGVuZGFyLWxheWVyXCIpO1xuICAgICAgICAgICAgbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVpLWRhdGVwaWNrZXJcIik7XG4gICAgICAgICAgICB2YXIgYWxsTGlua3MgPSBjYWxlbmRhci5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIik7XG4gICAgICAgICAgICB2YXIgYWxsTGlua3NBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFsbExpbmtzKTtcbiAgICAgICAgICAgIGFsbExpbmtzQXJyYXkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBjYWxlbmRhcklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXQtZm9ybV9faW5wdXRcIik7XG4gICAgdmFyIGNhbGVuZGFySW5wdXRzQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjYWxlbmRhcklucHV0cyk7XG4gICAgY2FsZW5kYXJJbnB1dHNBcnJheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxlbmRhci1sYXllclwiKTtcbiAgICAgICAgICAgIGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QucmVtb3ZlKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51aS1kYXRlcGlja2VyXCIpO1xuICAgICAgICAgICAgdmFyIGFsbExpbmtzID0gY2FsZW5kYXIucXVlcnlTZWxlY3RvckFsbChcInRkXCIpO1xuICAgICAgICAgICAgdmFyIGFsbExpbmtzQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhbGxMaW5rcyk7XG4gICAgICAgICAgICBhbGxMaW5rc0FycmF5LmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwidWktZGF0ZXBpY2tlci11bnNlbGVjdGFibGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyDQo9Cx0LjRgNCw0L3QuNC1INC/0L7QtNC70L7QttC60LhcblxuICAgICQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdID0ge1xuICAgICAgICAgICAgY2xvc2VUZXh0OiBcItCX0LDQutGA0YvRgtGMXCIsXG4gICAgICAgICAgICBwcmV2VGV4dDogXCJcIixcbiAgICAgICAgICAgIG5leHRUZXh0OiBcIlwiLFxuICAgICAgICAgICAgY3VycmVudFRleHQ6IFwi0KHQtdCz0L7QtNC90Y9cIixcbiAgICAgICAgICAgIG1vbnRoTmFtZXM6IFtcbiAgICAgICAgICAgICAgICBcItCv0L3QstCw0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0KTQtdCy0YDQsNC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDRgNGCXCIsXG4gICAgICAgICAgICAgICAgXCLQkNC/0YDQtdC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDQuVwiLFxuICAgICAgICAgICAgICAgIFwi0JjRjtC90YxcIixcbiAgICAgICAgICAgICAgICBcItCY0Y7Qu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQkNCy0LPRg9GB0YJcIixcbiAgICAgICAgICAgICAgICBcItCh0LXQvdGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCe0LrRgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQndC+0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCU0LXQutCw0LHRgNGMXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbW9udGhOYW1lc1Nob3J0OiBbXG4gICAgICAgICAgICAgICAgXCLQr9C90LLQsNGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCk0LXQstGA0LDQu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQnNCw0YDRglwiLFxuICAgICAgICAgICAgICAgIFwi0JDQv9GA0LXQu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQnNCw0LlcIixcbiAgICAgICAgICAgICAgICBcItCY0Y7QvdGMXCIsXG4gICAgICAgICAgICAgICAgXCLQmNGO0LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JDQstCz0YPRgdGCXCIsXG4gICAgICAgICAgICAgICAgXCLQodC10L3RgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQntC60YLRj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0J3QvtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQlNC10LrQsNCx0YDRjFwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGRheU5hbWVzOiBbXG4gICAgICAgICAgICAgICAgXCLQstC+0YHQutGA0LXRgdC10L3RjNC1XCIsXG4gICAgICAgICAgICAgICAgXCLQv9C+0L3QtdC00LXQu9GM0L3QuNC6XCIsXG4gICAgICAgICAgICAgICAgXCLQstGC0L7RgNC90LjQulwiLFxuICAgICAgICAgICAgICAgIFwi0YHRgNC10LTQsFwiLFxuICAgICAgICAgICAgICAgIFwi0YfQtdGC0LLQtdGA0LNcIixcbiAgICAgICAgICAgICAgICBcItC/0Y/RgtC90LjRhtCwXCIsXG4gICAgICAgICAgICAgICAgXCLRgdGD0LHQsdC+0YLQsFwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGRheU5hbWVzU2hvcnQ6IFtcItCy0YHQulwiLCBcItC/0L3QtFwiLCBcItCy0YLRgFwiLCBcItGB0YDQtFwiLCBcItGH0YLQslwiLCBcItC/0YLQvVwiLCBcItGB0LHRglwiXSxcbiAgICAgICAgICAgIGRheU5hbWVzTWluOiBbXCLQktGBXCIsIFwi0J/QvVwiLCBcItCS0YJcIiwgXCLQodGAXCIsIFwi0KfRglwiLCBcItCf0YJcIiwgXCLQodCxXCJdLFxuICAgICAgICAgICAgd2Vla0hlYWRlcjogXCLQndC10LRcIixcbiAgICAgICAgICAgIGRhdGVGb3JtYXQ6IFwiZGQubW0ueXlcIixcbiAgICAgICAgICAgIGZpcnN0RGF5OiAxLFxuICAgICAgICAgICAgaXNSVEw6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd01vbnRoQWZ0ZXJZZWFyOiBmYWxzZSxcbiAgICAgICAgICAgIHllYXJTdWZmaXg6IFwiXCIsXG4gICAgICAgIH07XG4gICAgICAgICQuZGF0ZXBpY2tlci5zZXREZWZhdWx0cygkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXSk7XG4gICAgICAgIHZhciBkYXRlRm9ybWF0ID0gXCJkZC5tbS55eVwiLFxuICAgICAgICAgICAgZnJvbSA9ICQoXCIjcGF5c0lucHV0U3RhcnRcIilcbiAgICAgICAgICAgIC5kYXRlcGlja2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnb3RvQ3VycmVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogXCJkZC5tbS55eVwiLFxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBzaG93QW5pbTogXCJzbGlkZURvd25cIixcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZNb250aHM6IDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoXCIjcGF5c0lucHV0RmluaXNoXCIpLmRhdGVwaWNrZXIoXCJvcHRpb25cIiwgXCJtaW5EYXRlXCIsIGdldERhdGUodGhpcykpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0byA9ICQoXCIjcGF5c0lucHV0RmluaXNoXCIpLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdvdG9DdXJyZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiBcImRkLm1tLnl5XCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIHNob3dBbmltOiBcInNsaWRlRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldERhdGUoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKGRhdGVGb3JtYXQsIGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8g0JrQsNC70LXQvdC00LDRgNGMINC00LvRjyDQsdC70L7QutC40YDQvtCy0LrQuFxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxvY2tpbmdJbnB1dFN0YXJ0XCIpKSB7XG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0L/QvtC00LvQvtC20LrQuFxuICAgIHZhciBjYWxlbmRhckxhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYmxvY2tpbmctZm9ybV9fbGFiZWxcIik7XG4gICAgdmFyIGNhbGVuZGFyTGFiZWxzQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjYWxlbmRhckxhYmVscyk7XG4gICAgY2FsZW5kYXJMYWJlbHNBcnJheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsZW5kYXItbGF5ZXJcIik7XG4gICAgICAgICAgICBsYXllci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LnJlbW92ZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjYWxlbmRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudWktZGF0ZXBpY2tlclwiKTtcbiAgICAgICAgICAgIHZhciBhbGxMaW5rcyA9IGNhbGVuZGFyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZFwiKTtcbiAgICAgICAgICAgIHZhciBhbGxMaW5rc0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYWxsTGlua3MpO1xuICAgICAgICAgICAgYWxsTGlua3NBcnJheS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucyhcInVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIGNhbGVuZGFySW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ibG9ja2luZy1mb3JtX19pbnB1dFwiKTtcbiAgICB2YXIgY2FsZW5kYXJJbnB1dHNBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNhbGVuZGFySW5wdXRzKTtcbiAgICBjYWxlbmRhcklucHV0c0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnRlcmVkXCIpO1xuICAgICAgICAgICAgdmFyIGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxlbmRhci1sYXllclwiKTtcbiAgICAgICAgICAgIGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51aS1kYXRlcGlja2VyXCIpO1xuICAgICAgICAgICAgdmFyIGFsbExpbmtzID0gY2FsZW5kYXIucXVlcnlTZWxlY3RvckFsbChcInRkXCIpO1xuICAgICAgICAgICAgdmFyIGFsbExpbmtzQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhbGxMaW5rcyk7XG4gICAgICAgICAgICBhbGxMaW5rc0FycmF5LmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwidWktZGF0ZXBpY2tlci11bnNlbGVjdGFibGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyDQo9Cx0LjRgNCw0L3QuNC1INC/0L7QtNC70L7QttC60LhcblxuICAgICQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdID0ge1xuICAgICAgICAgICAgY2xvc2VUZXh0OiBcItCX0LDQutGA0YvRgtGMXCIsXG4gICAgICAgICAgICBwcmV2VGV4dDogXCJcIixcbiAgICAgICAgICAgIG5leHRUZXh0OiBcIlwiLFxuICAgICAgICAgICAgY3VycmVudFRleHQ6IFwi0KHQtdCz0L7QtNC90Y9cIixcbiAgICAgICAgICAgIG1vbnRoTmFtZXM6IFtcbiAgICAgICAgICAgICAgICBcItCv0L3QstCw0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0KTQtdCy0YDQsNC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDRgNGCXCIsXG4gICAgICAgICAgICAgICAgXCLQkNC/0YDQtdC70YxcIixcbiAgICAgICAgICAgICAgICBcItCc0LDQuVwiLFxuICAgICAgICAgICAgICAgIFwi0JjRjtC90YxcIixcbiAgICAgICAgICAgICAgICBcItCY0Y7Qu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQkNCy0LPRg9GB0YJcIixcbiAgICAgICAgICAgICAgICBcItCh0LXQvdGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCe0LrRgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQndC+0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCU0LXQutCw0LHRgNGMXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbW9udGhOYW1lc1Nob3J0OiBbXG4gICAgICAgICAgICAgICAgXCLQr9C90LLQsNGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCk0LXQstGA0LDQu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQnNCw0YDRglwiLFxuICAgICAgICAgICAgICAgIFwi0JDQv9GA0LXQu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQnNCw0LlcIixcbiAgICAgICAgICAgICAgICBcItCY0Y7QvdGMXCIsXG4gICAgICAgICAgICAgICAgXCLQmNGO0LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JDQstCz0YPRgdGCXCIsXG4gICAgICAgICAgICAgICAgXCLQodC10L3RgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQntC60YLRj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0J3QvtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQlNC10LrQsNCx0YDRjFwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGRheU5hbWVzOiBbXG4gICAgICAgICAgICAgICAgXCLQstC+0YHQutGA0LXRgdC10L3RjNC1XCIsXG4gICAgICAgICAgICAgICAgXCLQv9C+0L3QtdC00LXQu9GM0L3QuNC6XCIsXG4gICAgICAgICAgICAgICAgXCLQstGC0L7RgNC90LjQulwiLFxuICAgICAgICAgICAgICAgIFwi0YHRgNC10LTQsFwiLFxuICAgICAgICAgICAgICAgIFwi0YfQtdGC0LLQtdGA0LNcIixcbiAgICAgICAgICAgICAgICBcItC/0Y/RgtC90LjRhtCwXCIsXG4gICAgICAgICAgICAgICAgXCLRgdGD0LHQsdC+0YLQsFwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGRheU5hbWVzU2hvcnQ6IFtcItCy0YHQulwiLCBcItC/0L3QtFwiLCBcItCy0YLRgFwiLCBcItGB0YDQtFwiLCBcItGH0YLQslwiLCBcItC/0YLQvVwiLCBcItGB0LHRglwiXSxcbiAgICAgICAgICAgIGRheU5hbWVzTWluOiBbXCLQktGBXCIsIFwi0J/QvVwiLCBcItCS0YJcIiwgXCLQodGAXCIsIFwi0KfRglwiLCBcItCf0YJcIiwgXCLQodCxXCJdLFxuICAgICAgICAgICAgd2Vla0hlYWRlcjogXCLQndC10LRcIixcbiAgICAgICAgICAgIGRhdGVGb3JtYXQ6IFwiZGQubW0ueXlcIixcbiAgICAgICAgICAgIGZpcnN0RGF5OiAxLFxuICAgICAgICAgICAgaXNSVEw6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd01vbnRoQWZ0ZXJZZWFyOiBmYWxzZSxcbiAgICAgICAgICAgIHllYXJTdWZmaXg6IFwiXCIsXG4gICAgICAgIH07XG4gICAgICAgICQuZGF0ZXBpY2tlci5zZXREZWZhdWx0cygkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXSk7XG4gICAgICAgIHZhciBkYXRlRm9ybWF0ID0gXCJkZC5tbS55eVwiLFxuICAgICAgICAgICAgZnJvbSA9ICQoXCIjYmxvY2tpbmdJbnB1dFN0YXJ0XCIpXG4gICAgICAgICAgICAuZGF0ZXBpY2tlcih7XG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ290b0N1cnJlbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6IFwiZGQubW0ueXlcIixcbiAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0FuaW06IFwic2xpZGVEb3duXCIsXG4gICAgICAgICAgICAgICAgICAgIG51bWJlck9mTW9udGhzOiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJC5kYXRlcGlja2VyLnJlZ2lvbmFsW1wicnVcIl1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKFwiI2Jsb2NraW5nSW5wdXRGaW5pc2hcIikuZGF0ZXBpY2tlcihcbiAgICAgICAgICAgICAgICAgICAgXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgXCJtaW5EYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldERhdGUodGhpcylcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0byA9ICQoXCIjYmxvY2tpbmdJbnB1dEZpbmlzaFwiKS5kYXRlcGlja2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VZZWFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnb3RvQ3VycmVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogXCJkZC5tbS55eVwiLFxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBzaG93QW5pbTogXCJzbGlkZURvd25cIixcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZNb250aHM6IDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBmdW5jdGlvbiBnZXREYXRlKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBkYXRlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkYXRlID0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZShkYXRlRm9ybWF0LCBlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItc2VjdGlvbi0tbW9iaWxlXCIpKSB7XG4gICAgY29uc29sZS5sb2cod2luZG93LmlubmVyV2lkdGgpO1xuICAgIGNvbnNvbGUubG9nKHdpbmRvdy5nZXRXaW5kb3dTaXplKClbMF0pO1xuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMjAwIHx8IHdpbmRvdy5nZXRXaW5kb3dTaXplKClbMF0gPD0gMTIwMCkge1xuICAgICAgICB2YXIgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluXCIpO1xuICAgICAgICBtYWluLnN0eWxlLm1hcmdpblRvcCA9IFwiNTBweFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItc2VjdGlvbi0tbW9iaWxlXCIpXG4gICAgICAgICAgICAuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgfVxufVxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3Blbk1lbnVcIikpIHtcbiAgICB2YXIgbW9iaWxlQnV0dG9uT3BlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3Blbk1lbnVcIik7XG4gICAgdmFyIG1vYmlsZUJ1dHRvblNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFiZWxPcGVuTWVudVwiKTtcbiAgICB2YXIgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0U2VhcmNoRmllbGRNb2JpbGVcIik7XG4gICAgdmFyIG1vYmlsZUJ1dHRvbkNsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZU1lbnVcIik7XG4gICAgdmFyIG5hdmlnYXRpb25NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uLXNlY3Rpb24tLW1vYmlsZVwiKTtcbiAgICBtb2JpbGVCdXR0b25PcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG1vYmlsZUJ1dHRvbkNsb3NlLmNsYXNzTGlzdC5hZGQoXCJtZW51LW9wZW4tLW9wZW5lZFwiKTtcbiAgICAgICAgbmF2aWdhdGlvbk1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS10cmFuc2Zvcm1lZFwiKTtcbiAgICB9KTtcbiAgICBtb2JpbGVCdXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBuYXZpZ2F0aW9uTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLXRyYW5zZm9ybWVkXCIpO1xuICAgIH0pO1xuICAgIG1vYmlsZUJ1dHRvblNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBuYXZpZ2F0aW9uTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLXRyYW5zZm9ybWVkXCIpO1xuICAgICAgICBzZWFyY2hJbnB1dC5mb2N1cygpO1xuICAgIH0pO1xufSJdfQ==
