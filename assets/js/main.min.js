"use strict";var recover_button,confirm_button,apply_form,recover_form,return_form,allLink,currentLocation,selectInputField,allOptionsArray,selectModalWindow,sidebarSearchForm,sidebarSearchInput,searchFieldResult,searchResult,calendarLabels,calendarInputs,main;function displaySelectValue(){var n=document.getElementById("rateSelect");document.querySelectorAll(".rate-form__option").forEach(function(e){var t;"checked"==e.getAttribute("data-checked")&&(t=e.textContent,n.value=t)})}function uncheckEverySpan(){document.querySelectorAll(".rate-form__option").forEach(function(e){e.setAttribute("data-checked","unchecked")})}document.querySelector(".auth-form__recover")&&(recover_button=document.querySelector(".auth-form__recover")).addEventListener("click",function(){apply_form.classList.toggle("js--hidden"),recover_form.classList.toggle("js--hidden")}),document.querySelector(".auth-form__continue")&&(confirm_button=document.querySelector(".auth-form__continue")).addEventListener("click",function(){recover_form.classList.toggle("js--hidden"),return_form.classList.toggle("js--hidden")}),document.querySelector(".form-apply-recover")&&(apply_form=document.querySelector(".form-apply-recover")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-recover-check")&&(recover_form=document.querySelector(".form-recover-check")).addEventListener("submit",function(e){e.preventDefault()}),document.querySelector(".form-return-login")&&(return_form=document.querySelector(".form-return-login")),document.querySelectorAll(".navigation-menu__item-link")&&(allLink=document.querySelectorAll(".navigation-menu__item-link"),currentLocation=window.location.href,allLink.forEach(function(e){var t=e.getAttribute("href").replace("./","");currentLocation.includes(t)&&e.classList.add("item--checked")})),document.getElementById("rateSelect")&&(selectInputField=document.getElementById("rateSelect"),allOptionsArray=document.querySelectorAll(".rate-form__option"),selectModalWindow=document.getElementById("rateModal"),displaySelectValue(),allOptionsArray.forEach(function(e){e.addEventListener("click",function(){uncheckEverySpan(),e.setAttribute("data-checked","checked"),displaySelectValue(),selectModalWindow.classList.remove("js--hidden"),selectInputField.classList.toggle("js--rotate-arrow")})}),selectInputField.addEventListener("click",function(){selectInputField.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.toggle("js--hidden")}),selectModalWindow.addEventListener("mouseleave",function(){selectInputField.classList.toggle("js--rotate-arrow"),selectModalWindow.classList.add("js--hidden")})),document.querySelector(".search-section--form ")&&(sidebarSearchForm=document.querySelector(".search-section--form"),sidebarSearchInput=document.querySelector(".input-section__search-input"),sidebarSearchForm.addEventListener("submit",function(e){var t=sidebarSearchInput.value;localStorage.setItem("searchResult",t)})),document.getElementById("searchField")&&(searchFieldResult=document.getElementById("searchField"),searchResult=localStorage.getItem("searchResult"),console.log(localStorage.getItem("searchResult")),searchFieldResult.value=searchResult,"Платеж"==searchFieldResult.value&&(document.getElementById("fullResult").classList.remove("js--hidden"),document.getElementById("emptyResult").classList.add("js--hidden"))),document.querySelector(".blocking-form__input")&&((calendarLabels=document.querySelectorAll(".blocking-form__label")).forEach(function(e){e.addEventListener("click",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),e.addEventListener("click",function(){t.classList.remove("js--hidden")}),document.querySelector(".ui-datepicker").querySelectorAll("td").forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),(calendarInputs=document.querySelectorAll(".form__input-form__input")).forEach(function(e){e.addEventListener("focus",function(){var t=document.querySelector(".calendar-layer");t.addEventListener("click",function(){t.classList.add("js--hidden")}),e.addEventListener("click",function(){t.classList.remove("js--hidden")}),document.querySelector(".ui-datepicker").querySelectorAll("td").forEach(function(e){e.classList.contains("ui-datepicker-unselectable")||e.addEventListener("click",function(){t.classList.add("js--hidden")})})})}),$(function(){$.datepicker.regional.ru={closeText:"Закрыть",prevText:"",nextText:"",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru);$("#blockingInputStart").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,dateFormat:"dd.mm.yy",minDate:0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru).on("change",function(){$("#blockingInputFinish").datepicker("option","minDate",function(e){var t;try{t=$.datepicker.parseDate("dd.mm.yy",e.value)}catch(e){t=null,console.log(t)}return t}(this))}),$("#blockingInputFinish").datepicker({inline:!0,changeYear:!0,gotoCurrent:!0,showAnim:"slideDown",numberOfMonths:1},$.datepicker.regional.ru)})),console.log(window.innerWidth),window.innerWidth<=1200?(main=document.querySelector("main")).style.marginTop="50px":document.querySelector(".header-section--mobile").classList.add("js--hidden");var mobileButtonOpen=document.getElementById("openMenu"),mobileButtonClose=document.getElementById("closeMenu"),navigationMenu=document.querySelector(".navigation-section--mobile");mobileButtonOpen.addEventListener("click",function(){mobileButtonClose.classList.add("menu-open--opened"),navigationMenu.classList.toggle("js--transformed")}),mobileButtonClose.addEventListener("click",function(){navigationMenu.classList.toggle("js--transformed")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJyZWNvdmVyX2J1dHRvbiIsImNvbmZpcm1fYnV0dG9uIiwiYXBwbHlfZm9ybSIsInJlY292ZXJfZm9ybSIsInJldHVybl9mb3JtIiwiYWxsTGluayIsImN1cnJlbnRMb2NhdGlvbiIsInNlbGVjdElucHV0RmllbGQiLCJhbGxPcHRpb25zQXJyYXkiLCJzZWxlY3RNb2RhbFdpbmRvdyIsInNpZGViYXJTZWFyY2hGb3JtIiwic2lkZWJhclNlYXJjaElucHV0Iiwic2VhcmNoRmllbGRSZXN1bHQiLCJzZWFyY2hSZXN1bHQiLCJjYWxlbmRhckxhYmVscyIsImNhbGVuZGFySW5wdXRzIiwibWFpbiIsImRpc3BsYXlTZWxlY3RWYWx1ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJjaGVja2VkVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsInZhbHVlIiwidW5jaGVja0V2ZXJ5U3BhbiIsIm5ld0VsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJmb3JtYXRlZExpbmsiLCJyZXBsYWNlIiwiaW5jbHVkZXMiLCJhZGQiLCJyZW1vdmUiLCJzZWFyY2hWYWx1ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsImxheWVyIiwiZWxlbSIsImNvbnRhaW5zIiwiJCIsImRhdGVwaWNrZXIiLCJyZWdpb25hbCIsImNsb3NlVGV4dCIsInByZXZUZXh0IiwibmV4dFRleHQiLCJjdXJyZW50VGV4dCIsIm1vbnRoTmFtZXMiLCJtb250aE5hbWVzU2hvcnQiLCJkYXlOYW1lcyIsImRheU5hbWVzU2hvcnQiLCJkYXlOYW1lc01pbiIsIndlZWtIZWFkZXIiLCJkYXRlRm9ybWF0IiwiZmlyc3REYXkiLCJpc1JUTCIsInNob3dNb250aEFmdGVyWWVhciIsInllYXJTdWZmaXgiLCJzZXREZWZhdWx0cyIsImlubGluZSIsImNoYW5nZVllYXIiLCJnb3RvQ3VycmVudCIsIm1pbkRhdGUiLCJzaG93QW5pbSIsIm51bWJlck9mTW9udGhzIiwib24iLCJkYXRlIiwicGFyc2VEYXRlIiwiZXJyb3IiLCJnZXREYXRlIiwidGhpcyIsImlubmVyV2lkdGgiLCJzdHlsZSIsIm1hcmdpblRvcCIsIm1vYmlsZUJ1dHRvbk9wZW4iLCJtb2JpbGVCdXR0b25DbG9zZSIsIm5hdmlnYXRpb25NZW51Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUNBQSxlQU9BQyxlQU9BQyxXQU9BQyxhQU1BQyxZQUlBQyxRQUNBQyxnQkFlQUMsaUJBQ0FDLGdCQUNBQyxrQkE0Q0FDLGtCQUNBQyxtQkFZQUMsa0JBQ0FDLGFBV0FDLGVBcUJBQyxlQTBIQUMsS0E3TEEsU0FBQUMscUJBQ0EsSUFBQVYsRUFBQVcsU0FBQUMsZUFBQSxjQUNBRCxTQUFBRSxpQkFBQSxzQkFDQUMsUUFBQSxTQUFBQyxHQUNBLElBRUFDLEVBREEsV0FEQUQsRUFBQUUsYUFBQSxrQkFFQUQsRUFBQUQsRUFBQUcsWUFDQWxCLEVBQUFtQixNQUFBSCxLQUtBLFNBQUFJLG1CQUNBVCxTQUFBRSxpQkFBQSxzQkFDQUMsUUFBQSxTQUFBTyxHQUNBQSxFQUFBQyxhQUFBLGVBQUEsZUF4RkFYLFNBQUFZLGNBQUEseUJBQ0E5QixlQUFBa0IsU0FBQVksY0FBQSx3QkFDQUMsaUJBQUEsUUFBQSxXQUNBN0IsV0FBQThCLFVBQUFDLE9BQUEsY0FDQTlCLGFBQUE2QixVQUFBQyxPQUFBLGdCQUdBZixTQUFBWSxjQUFBLDBCQUNBN0IsZUFBQWlCLFNBQUFZLGNBQUEseUJBQ0FDLGlCQUFBLFFBQUEsV0FDQTVCLGFBQUE2QixVQUFBQyxPQUFBLGNBQ0E3QixZQUFBNEIsVUFBQUMsT0FBQSxnQkFHQWYsU0FBQVks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QUFDLElBQUFiLE9BQUFnRCxZQUNBaEQsT0FBQWdELFlBQUEsTUFDQXBFLEtBQUFFLFNBQUFZLGNBQUEsU0FDQXVELE1BQUFDLFVBQUEsT0FFQXBFLFNBQUFZLGNBQUEsMkJBQUFFLFVBQUFVLElBQUEsY0FHQSxJQUFBNkMsaUJBQUFyRSxTQUFBQyxlQUFBLFlBQ0FxRSxrQkFBQXRFLFNBQUFDLGVBQUEsYUFDQXNFLGVBQUF2RSxTQUFBWSxjQUFBLCtCQUNBeUQsaUJBQUF4RCxpQkFBQSxRQUFBLFdBQ0F5RCxrQkFBQXhELFVBQUFVLElBQUEscUJBQ0ErQyxlQUFBekQsVUFBQUMsT0FBQSxxQkFFQXVELGtCQUFBekQsaUJBQUEsUUFBQSxXQUNBMEQsZUFBQXpELFVBQUFDLE9BQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fcmVjb3ZlclwiKSkge1xuICAgIHZhciByZWNvdmVyX2J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19yZWNvdmVyXCIpO1xuICAgIHJlY292ZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGFwcGx5X2Zvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgIHJlY292ZXJfZm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbn1cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fY29udGludWVcIikpIHtcbiAgICB2YXIgY29uZmlybV9idXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fY29udGludWVcIik7XG4gICAgY29uZmlybV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcmVjb3Zlcl9mb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICByZXR1cm5fZm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLWhpZGRlblwiKTtcbiAgICB9KTtcbn1cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tYXBwbHktcmVjb3ZlclwiKSkge1xuICAgIHZhciBhcHBseV9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWFwcGx5LXJlY292ZXJcIik7XG5cbiAgICBhcHBseV9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXJlY292ZXItY2hlY2tcIikpIHtcbiAgICB2YXIgcmVjb3Zlcl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXJlY292ZXItY2hlY2tcIik7XG4gICAgcmVjb3Zlcl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG59XG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXJldHVybi1sb2dpblwiKSkge1xuICAgIHZhciByZXR1cm5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1yZXR1cm4tbG9naW5cIik7XG59XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbWVudV9faXRlbS1saW5rXCIpKSB7XG4gICAgdmFyIGFsbExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbWVudV9faXRlbS1saW5rXCIpO1xuICAgIHZhciBjdXJyZW50TG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblxuICAgIGFsbExpbmsuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICB2YXIgbGluayA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgdmFyIGZvcm1hdGVkTGluayA9IGxpbmsucmVwbGFjZShcIi4vXCIsIFwiXCIpO1xuICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uLmluY2x1ZGVzKGZvcm1hdGVkTGluaykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIml0ZW0tLWNoZWNrZWRcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8g0J7Qv9C10YDQsNGG0LjQuCDRgSDRgtCw0YDQuNGE0LDQvNC4XG5cbi8vINCh0L3QsNGH0LDQu9CwINC/0L7Qu9GD0YfQuNC8INC4INCy0YvQstC10LTQtdC8INC30L3QsNGH0LXQvdC40LUg0L7RgtC80LXRh9C10L3QvdC+0LPQviBvcHRpb25cbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVTZWxlY3RcIikpIHtcbiAgICB2YXIgc2VsZWN0SW5wdXRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmF0ZVNlbGVjdFwiKTtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlLWZvcm1fX29wdGlvblwiKTtcbiAgICB2YXIgc2VsZWN0TW9kYWxXaW5kb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGVNb2RhbFwiKTtcbiAgICBkaXNwbGF5U2VsZWN0VmFsdWUoKTtcbiAgICAvLyDQn9C+INC60LvQuNC60YMg0LzQtdC90Y/QtdC8INC30L3QsNGH0LXQvdC40LUgZGF0YS1jaGVja2VkXG4gICAgYWxsT3B0aW9uc0FycmF5LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdW5jaGVja0V2ZXJ5U3BhbigpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJjaGVja2VkXCIpO1xuICAgICAgICAgICAgZGlzcGxheVNlbGVjdFZhbHVlKCk7XG4gICAgICAgICAgICBzZWxlY3RNb2RhbFdpbmRvdy5jbGFzc0xpc3QucmVtb3ZlKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIHNlbGVjdElucHV0RmllbGQuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1yb3RhdGUtYXJyb3dcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHNlbGVjdElucHV0RmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgc2VsZWN0SW5wdXRGaWVsZC5jbGFzc0xpc3QudG9nZ2xlKFwianMtLXJvdGF0ZS1hcnJvd1wiKTtcbiAgICAgICAgc2VsZWN0TW9kYWxXaW5kb3cuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1oaWRkZW5cIik7XG4gICAgfSk7XG5cbiAgICBzZWxlY3RNb2RhbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgIHNlbGVjdElucHV0RmllbGQuY2xhc3NMaXN0LnRvZ2dsZShcImpzLS1yb3RhdGUtYXJyb3dcIik7XG4gICAgICAgIHNlbGVjdE1vZGFsV2luZG93LmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgIH0pO1xufVxuLy8g0J/QtdGA0LXQtNCw0YfQsCBkYXRhLWNoZWNrZWQg0LfQvdCw0YfQtdC90LjRjyDQsiDQv9C+0LvQtSBTZWxlY3RcbmZ1bmN0aW9uIGRpc3BsYXlTZWxlY3RWYWx1ZSgpIHtcbiAgICB2YXIgc2VsZWN0SW5wdXRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmF0ZVNlbGVjdFwiKTtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlLWZvcm1fX29wdGlvblwiKTtcbiAgICBhbGxPcHRpb25zQXJyYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICB2YXIgY2hlY2tlZEJvb2wgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiKTtcbiAgICAgICAgaWYgKGNoZWNrZWRCb29sID09IFwiY2hlY2tlZFwiKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIHNlbGVjdElucHV0RmllbGQudmFsdWUgPSBjaGVja2VkVmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdW5jaGVja0V2ZXJ5U3BhbigpIHtcbiAgICB2YXIgYWxsT3B0aW9uc0FycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYXRlLWZvcm1fX29wdGlvblwiKTtcbiAgICBhbGxPcHRpb25zQXJyYXkuZm9yRWFjaCgobmV3RWxlbWVudCkgPT4ge1xuICAgICAgICBuZXdFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcInVuY2hlY2tlZFwiKTtcbiAgICB9KTtcbn1cblxuLy8g0J7QsdGA0LDQsdC+0YLQutCwINGE0L7RgNC80Ysg0L/QvtC40YHQutCwINCyINCx0L7QutC+0LLQvtC8INC80LXQvdGOXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtc2VjdGlvbi0tZm9ybSBcIikpIHtcbiAgICB2YXIgc2lkZWJhclNlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1zZWN0aW9uLS1mb3JtXCIpO1xuICAgIHZhciBzaWRlYmFyU2VhcmNoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBcIi5pbnB1dC1zZWN0aW9uX19zZWFyY2gtaW5wdXRcIlxuICAgICk7XG4gICAgc2lkZWJhclNlYXJjaEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIHNlYXJjaFZhbHVlID0gc2lkZWJhclNlYXJjaElucHV0LnZhbHVlO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNlYXJjaFJlc3VsdFwiLCBzZWFyY2hWYWx1ZSk7XG4gICAgfSk7XG59XG5cbi8vINCg0LXQt9GD0LvRjNGC0LDRgtGLINC/0L7QuNGB0LrQsFxuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hGaWVsZFwiKSkge1xuICAgIHZhciBzZWFyY2hGaWVsZFJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoRmllbGRcIik7XG4gICAgdmFyIHNlYXJjaFJlc3VsdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2VhcmNoUmVzdWx0XCIpO1xuICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2VhcmNoUmVzdWx0XCIpKTtcbiAgICBzZWFyY2hGaWVsZFJlc3VsdC52YWx1ZSA9IHNlYXJjaFJlc3VsdDtcbiAgICBpZiAoc2VhcmNoRmllbGRSZXN1bHQudmFsdWUgPT0gXCLQn9C70LDRgtC10LZcIikge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1bGxSZXN1bHRcIikuY2xhc3NMaXN0LnJlbW92ZShcImpzLS1oaWRkZW5cIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1wdHlSZXN1bHRcIikuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgfVxufVxuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibG9ja2luZy1mb3JtX19pbnB1dFwiKSkge1xuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC/0L7QtNC70L7QttC60LhcbiAgICB2YXIgY2FsZW5kYXJMYWJlbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJsb2NraW5nLWZvcm1fX2xhYmVsXCIpO1xuICAgIGNhbGVuZGFyTGFiZWxzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxlbmRhci1sYXllclwiKTtcbiAgICAgICAgICAgIGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NMaXN0LmFkZChcImpzLS1oaWRkZW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QucmVtb3ZlKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51aS1kYXRlcGlja2VyXCIpO1xuICAgICAgICAgICAgdmFyIGFsbExpbmtzID0gY2FsZW5kYXIucXVlcnlTZWxlY3RvckFsbChcInRkXCIpO1xuICAgICAgICAgICAgYWxsTGlua3MuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBjYWxlbmRhcklucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXQtZm9ybV9faW5wdXRcIik7XG4gICAgY2FsZW5kYXJJbnB1dHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbGVuZGFyLWxheWVyXCIpO1xuICAgICAgICAgICAgbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5yZW1vdmUoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVpLWRhdGVwaWNrZXJcIik7XG4gICAgICAgICAgICB2YXIgYWxsTGlua3MgPSBjYWxlbmRhci5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIik7XG4gICAgICAgICAgICBhbGxMaW5rcy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucyhcInVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8g0KPQsdC40YDQsNC90LjQtSDQv9C+0LTQu9C+0LbQutC4XG5cbiAgICAkKGZ1bmN0aW9uKCkge1xuICAgICAgICAkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJydVwiXSA9IHtcbiAgICAgICAgICAgIGNsb3NlVGV4dDogXCLQl9Cw0LrRgNGL0YLRjFwiLFxuICAgICAgICAgICAgcHJldlRleHQ6IFwiXCIsXG4gICAgICAgICAgICBuZXh0VGV4dDogXCJcIixcbiAgICAgICAgICAgIGN1cnJlbnRUZXh0OiBcItCh0LXQs9C+0LTQvdGPXCIsXG4gICAgICAgICAgICBtb250aE5hbWVzOiBbXG4gICAgICAgICAgICAgICAgXCLQr9C90LLQsNGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCk0LXQstGA0LDQu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQnNCw0YDRglwiLFxuICAgICAgICAgICAgICAgIFwi0JDQv9GA0LXQu9GMXCIsXG4gICAgICAgICAgICAgICAgXCLQnNCw0LlcIixcbiAgICAgICAgICAgICAgICBcItCY0Y7QvdGMXCIsXG4gICAgICAgICAgICAgICAgXCLQmNGO0LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JDQstCz0YPRgdGCXCIsXG4gICAgICAgICAgICAgICAgXCLQodC10L3RgtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQntC60YLRj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0J3QvtGP0LHRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQlNC10LrQsNCx0YDRjFwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG1vbnRoTmFtZXNTaG9ydDogW1xuICAgICAgICAgICAgICAgIFwi0K/QvdCy0LDRgNGMXCIsXG4gICAgICAgICAgICAgICAgXCLQpNC10LLRgNCw0LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JzQsNGA0YJcIixcbiAgICAgICAgICAgICAgICBcItCQ0L/RgNC10LvRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JzQsNC5XCIsXG4gICAgICAgICAgICAgICAgXCLQmNGO0L3RjFwiLFxuICAgICAgICAgICAgICAgIFwi0JjRjtC70YxcIixcbiAgICAgICAgICAgICAgICBcItCQ0LLQs9GD0YHRglwiLFxuICAgICAgICAgICAgICAgIFwi0KHQtdC90YLRj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0J7QutGC0Y/QsdGA0YxcIixcbiAgICAgICAgICAgICAgICBcItCd0L7Rj9Cx0YDRjFwiLFxuICAgICAgICAgICAgICAgIFwi0JTQtdC60LDQsdGA0YxcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBkYXlOYW1lczogW1xuICAgICAgICAgICAgICAgIFwi0LLQvtGB0LrRgNC10YHQtdC90YzQtVwiLFxuICAgICAgICAgICAgICAgIFwi0L/QvtC90LXQtNC10LvRjNC90LjQulwiLFxuICAgICAgICAgICAgICAgIFwi0LLRgtC+0YDQvdC40LpcIixcbiAgICAgICAgICAgICAgICBcItGB0YDQtdC00LBcIixcbiAgICAgICAgICAgICAgICBcItGH0LXRgtCy0LXRgNCzXCIsXG4gICAgICAgICAgICAgICAgXCLQv9GP0YLQvdC40YbQsFwiLFxuICAgICAgICAgICAgICAgIFwi0YHRg9Cx0LHQvtGC0LBcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBkYXlOYW1lc1Nob3J0OiBbXCLQstGB0LpcIiwgXCLQv9C90LRcIiwgXCLQstGC0YBcIiwgXCLRgdGA0LRcIiwgXCLRh9GC0LJcIiwgXCLQv9GC0L1cIiwgXCLRgdCx0YJcIl0sXG4gICAgICAgICAgICBkYXlOYW1lc01pbjogW1wi0JLRgVwiLCBcItCf0L1cIiwgXCLQktGCXCIsIFwi0KHRgFwiLCBcItCn0YJcIiwgXCLQn9GCXCIsIFwi0KHQsVwiXSxcbiAgICAgICAgICAgIHdlZWtIZWFkZXI6IFwi0J3QtdC0XCIsXG4gICAgICAgICAgICBkYXRlRm9ybWF0OiBcImRkLm1tLnl5XCIsXG4gICAgICAgICAgICBmaXJzdERheTogMSxcbiAgICAgICAgICAgIGlzUlRMOiBmYWxzZSxcbiAgICAgICAgICAgIHNob3dNb250aEFmdGVyWWVhcjogZmFsc2UsXG4gICAgICAgICAgICB5ZWFyU3VmZml4OiBcIlwiLFxuICAgICAgICB9O1xuICAgICAgICAkLmRhdGVwaWNrZXIuc2V0RGVmYXVsdHMoJC5kYXRlcGlja2VyLnJlZ2lvbmFsW1wicnVcIl0pO1xuICAgICAgICB2YXIgZGF0ZUZvcm1hdCA9IFwiZGQubW0ueXlcIixcbiAgICAgICAgICAgIGZyb20gPSAkKFwiI2Jsb2NraW5nSW5wdXRTdGFydFwiKVxuICAgICAgICAgICAgLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVllYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdvdG9DdXJyZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiBcImRkLm1tLnl5XCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgIHNob3dBbmltOiBcInNsaWRlRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJChcIiNibG9ja2luZ0lucHV0RmluaXNoXCIpLmRhdGVwaWNrZXIoXG4gICAgICAgICAgICAgICAgICAgIFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibWluRGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBnZXREYXRlKHRoaXMpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdG8gPSAkKFwiI2Jsb2NraW5nSW5wdXRGaW5pc2hcIikuZGF0ZXBpY2tlcih7XG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlWWVhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ290b0N1cnJlbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNob3dBbmltOiBcInNsaWRlRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcInJ1XCJdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldERhdGUoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKGRhdGVGb3JtYXQsIGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc29sZS5sb2cod2luZG93LmlubmVyV2lkdGgpO1xuaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEyMDApIHtcbiAgICB2YXIgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluXCIpO1xuICAgIG1haW4uc3R5bGUubWFyZ2luVG9wID0gXCI1MHB4XCI7XG59IGVsc2Uge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLXNlY3Rpb24tLW1vYmlsZVwiKS5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcbn1cblxudmFyIG1vYmlsZUJ1dHRvbk9wZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9wZW5NZW51XCIpO1xudmFyIG1vYmlsZUJ1dHRvbkNsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZU1lbnVcIik7XG52YXIgbmF2aWdhdGlvbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb24tc2VjdGlvbi0tbW9iaWxlXCIpO1xubW9iaWxlQnV0dG9uT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG1vYmlsZUJ1dHRvbkNsb3NlLmNsYXNzTGlzdC5hZGQoXCJtZW51LW9wZW4tLW9wZW5lZFwiKTtcbiAgICBuYXZpZ2F0aW9uTWVudS5jbGFzc0xpc3QudG9nZ2xlKFwianMtLXRyYW5zZm9ybWVkXCIpO1xufSk7XG5tb2JpbGVCdXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG5hdmlnYXRpb25NZW51LmNsYXNzTGlzdC50b2dnbGUoXCJqcy0tdHJhbnNmb3JtZWRcIik7XG59KTsiXX0=
